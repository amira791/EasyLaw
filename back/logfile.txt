Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py changed, reloading.
Watching for file changes with StatReloader
get All users Info 
User Sanaa_799 client login
User Sanaa_799 client logout  
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
<<<<<<< HEAD
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py changed, reloading.
Watching for file changes with StatReloader
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
Starting new HTTP connection (1): localhost:8000
Starting new HTTP connection (1): localhost:8000
load_ssl_context verify='C:\\Users\\DELL\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\stripe\\data\\ca-certificates.crt' cert=None trust_env=True http2=False
load_verify_locations cafile='C:\\Users\\DELL\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\stripe\\data\\ca-certificates.crt'
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/customers?email=amiratam3000%40example.com&limit=1
api_version=2024-04-10 message='Post details' post_data=email=amiratam3000%40example.com&limit=1
Starting new HTTPS connection (1): api.stripe.com:443
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/customers?email=amiratam3000%40example.com&limit=1
api_version=2024-04-10 message='Post details' post_data=email=amiratam3000%40example.com&limit=1
Starting new HTTPS connection (1): api.stripe.com:443
Starting new HTTP connection (1): localhost:8000
https://api.stripe.com:443 "GET /v1/customers?email=amiratam3000%40example.com&limit=1 HTTP/1.1" 200 83
message='Stripe API response' path=https://api.stripe.com/v1/customers?email=amiratam3000%40example.com&limit=1 response_code=200
body='{\n  "object": "list",\n  "data": [],\n  "has_more": false,\n  "url": "/v1/customers"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_LpILJgIOqD6L3v message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/customers
api_version=2024-04-10 message='Post details' post_data=email=amiratam3000%40example.com&name=Amira_792
Starting new HTTP connection (1): localhost:8000
https://api.stripe.com:443 "POST /v1/customers HTTP/1.1" 200 613
message='Stripe API response' path=https://api.stripe.com/v1/customers response_code=200
body='{\n  "id": "cus_Q6wvKFZr3WPNRm",\n  "object": "customer",\n  "address": null,\n  "balance": 0,\n  "created": 1715784121,\n  "currency": null,\n  "default_source": null,\n  "delinquent": false,\n  "description": null,\n  "discount": null,\n  "email": "amiratam3000@example.com",\n  "invoice_prefix": "C1007823",\n  "invoice_settings": {\n    "custom_fields": null,\n    "default_payment_method": null,\n    "footer": null,\n    "rendering_options": null\n  },\n  "livemode": false,\n  "metadata": {},\n  "name": "Amira_792",\n  "phone": null,\n  "preferred_locales": [],\n  "shipping": null,\n  "tax_exempt": "none",\n  "test_clock": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_2BgGzYhM80zeQZ message='Dashboard link for request'
User Amira_792  amiratam3000@example.com  create an account in stripe
http://localhost:8000 "POST /payment/customer HTTP/1.1" 201 43
https://api.stripe.com:443 "GET /v1/customers?email=amiratam3000%40example.com&limit=1 HTTP/1.1" 200 812
message='Stripe API response' path=https://api.stripe.com/v1/customers?email=amiratam3000%40example.com&limit=1 response_code=200
body='{\n  "object": "list",\n  "data": [\n    {\n      "id": "cus_Q6wvKFZr3WPNRm",\n      "object": "customer",\n      "address": null,\n      "balance": 0,\n      "created": 1715784121,\n      "currency": null,\n      "default_source": null,\n      "delinquent": false,\n      "description": null,\n      "discount": null,\n      "email": "amiratam3000@example.com",\n      "invoice_prefix": "C1007823",\n      "invoice_settings": {\n        "custom_fields": null,\n        "default_payment_method": null,\n        "footer": null,\n        "rendering_options": null\n      },\n      "livemode": false,\n      "metadata": {},\n      "name": "Amira_792",\n      "phone": null,\n      "preferred_locales": [],\n      "shipping": null,\n      "tax_exempt": "none",\n      "test_clock": null\n    }\n  ],\n  "has_more": false,\n  "url": "/v1/customers"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_AYjymedm20IwLf message='Dashboard link for request'
User Amira_792  amiratam3000@example.com  has already an account 
Internal Server Error: /payment/customer
Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 174, in __getattr__
    return self[k]
           ~~~~^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 216, in __getitem__
    raise err
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 204, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'stripeCustomerId'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py", line 66, in addUser
    return Response({'stripe_customer_id': existing_customer.data[0].stripeCustomerId}, status=status.HTTP_200_OK)
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 176, in __getattr__
    raise AttributeError(*err.args)
AttributeError: stripeCustomerId
http://localhost:8000 "POST /payment/customer HTTP/1.1" 500 119395
Internal Server Error: /user/signup
Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py", line 29, in signup
    logger.info(f'User {user.username}  signed up as a client')
                        ^^^^
UnboundLocalError: cannot access local variable 'user' where it is not associated with a value
Internal Server Error: /user/signup
Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py", line 27, in signup
    data['stripeCustomerId'] = stripeCustomerId(data['username'], data['email'], request)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py", line 132, in stripeCustomerId
    return response.json()["stripe_customer_id"]
           ^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/customers?email=amiratam3000%40example.com&limit=1
api_version=2024-04-10 message='Post details' post_data=email=amiratam3000%40example.com&limit=1
Starting new HTTPS connection (1): api.stripe.com:443
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/customers?email=amiratam3000%40example.com&limit=1
api_version=2024-04-10 message='Post details' post_data=email=amiratam3000%40example.com&limit=1
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "GET /v1/customers?email=amiratam3000%40example.com&limit=1 HTTP/1.1" 200 812
message='Stripe API response' path=https://api.stripe.com/v1/customers?email=amiratam3000%40example.com&limit=1 response_code=200
body='{\n  "object": "list",\n  "data": [\n    {\n      "id": "cus_Q6wvKFZr3WPNRm",\n      "object": "customer",\n      "address": null,\n      "balance": 0,\n      "created": 1715784121,\n      "currency": null,\n      "default_source": null,\n      "delinquent": false,\n      "description": null,\n      "discount": null,\n      "email": "amiratam3000@example.com",\n      "invoice_prefix": "C1007823",\n      "invoice_settings": {\n        "custom_fields": null,\n        "default_payment_method": null,\n        "footer": null,\n        "rendering_options": null\n      },\n      "livemode": false,\n      "metadata": {},\n      "name": "Amira_792",\n      "phone": null,\n      "preferred_locales": [],\n      "shipping": null,\n      "tax_exempt": "none",\n      "test_clock": null\n    }\n  ],\n  "has_more": false,\n  "url": "/v1/customers"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_2TGuoHgoSCjXzq message='Dashboard link for request'
User Amira_792  amiratam3000@example.com  has already an account 
Internal Server Error: /payment/customer
Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 174, in __getattr__
    return self[k]
           ~~~~^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 216, in __getitem__
    raise err
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 204, in __getitem__
=======
Watching for file changes with StatReloader
C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\Data_Collection\views.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
get All users Info 
User USER client login
get All users Info 
User USER client login
User USER  get subscription
User USER  get invoice
User USER client logout  
get All users Info 
User USER client login
get All users Info 
User USER client login
User USER client logout  
Starting new HTTP connection (1): localhost:8888
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1
api_version=2023-10-16 message='Post details' post_data=email=amine%40gmail.com&limit=1
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "GET /v1/customers?email=amine%40gmail.com&limit=1 HTTP/1.1" 200 83
message='Stripe API response' path=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1 response_code=200
body='{\n  "object": "list",\n  "data": [],\n  "has_more": false,\n  "url": "/v1/customers"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_6M1aG2Yg9y2rmR message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/customers
api_version=2023-10-16 message='Post details' post_data=email=amine%40gmail.com&name=AMINE
https://api.stripe.com:443 "POST /v1/customers HTTP/1.1" 200 600
message='Stripe API response' path=https://api.stripe.com/v1/customers response_code=200
body='{\n  "id": "cus_Q9BbVkLGH0wb6s",\n  "object": "customer",\n  "address": null,\n  "balance": 0,\n  "created": 1716299985,\n  "currency": null,\n  "default_source": null,\n  "delinquent": false,\n  "description": null,\n  "discount": null,\n  "email": "amine@gmail.com",\n  "invoice_prefix": "B4D92177",\n  "invoice_settings": {\n    "custom_fields": null,\n    "default_payment_method": null,\n    "footer": null,\n    "rendering_options": null\n  },\n  "livemode": false,\n  "metadata": {},\n  "name": "AMINE",\n  "phone": null,\n  "preferred_locales": [],\n  "shipping": null,\n  "tax_exempt": "none",\n  "test_clock": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_9EQpUFP7ZEHToe message='Dashboard link for request'
User AMINE  amine@gmail.com  create an account in stripe
http://localhost:8888 "POST /payment/customer HTTP/1.1" 201 43
Internal Server Error: /user/signup
Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py", line 29, in signup
    logger.info(f'User {user.username}  signed up as a client')
                        ^^^^
UnboundLocalError: cannot access local variable 'user' where it is not associated with a value
C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py changed, reloading.
Watching for file changes with StatReloader
Starting new HTTP connection (1): localhost:8888
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1
api_version=2023-10-16 message='Post details' post_data=email=amine%40gmail.com&limit=1
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "GET /v1/customers?email=amine%40gmail.com&limit=1 HTTP/1.1" 200 799
message='Stripe API response' path=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1 response_code=200
body='{\n  "object": "list",\n  "data": [\n    {\n      "id": "cus_Q9BbVkLGH0wb6s",\n      "object": "customer",\n      "address": null,\n      "balance": 0,\n      "created": 1716299985,\n      "currency": null,\n      "default_source": null,\n      "delinquent": false,\n      "description": null,\n      "discount": null,\n      "email": "amine@gmail.com",\n      "invoice_prefix": "B4D92177",\n      "invoice_settings": {\n        "custom_fields": null,\n        "default_payment_method": null,\n        "footer": null,\n        "rendering_options": null\n      },\n      "livemode": false,\n      "metadata": {},\n      "name": "AMINE",\n      "phone": null,\n      "preferred_locales": [],\n      "shipping": null,\n      "tax_exempt": "none",\n      "test_clock": null\n    }\n  ],\n  "has_more": false,\n  "url": "/v1/customers"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_qW6qkXDJygpAnF message='Dashboard link for request'
User AMINE  amine@gmail.com  has already an account 
Internal Server Error: /payment/customer
Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 174, in __getattr__
    return self[k]
           ~~~~^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 216, in __getitem__
    raise err
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 204, in __getitem__
>>>>>>> 3c5f2c76cc99c9c77c0f32049fe7e7cbd293dad7
    return super(StripeObject, self).__getitem__(k)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'stripeCustomerId'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< HEAD
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py", line 66, in addUser
    return Response({'stripe_customer_id': existing_customer.data[0].stripeCustomerId}, status=status.HTTP_200_OK)
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 176, in __getattr__
    raise AttributeError(*err.args)
AttributeError: stripeCustomerId
http://localhost:8000 "POST /payment/customer HTTP/1.1" 500 119395
Internal Server Error: /user/signup
Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 355, in raw_decode
=======
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\Payement_Validation\views.py", line 66, in addUser
    return Response({'stripe_customer_id': existing_customer.data[0].stripeCustomerId}, status=status.HTTP_200_OK)
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 176, in __getattr__
    raise AttributeError(*err.args)
AttributeError: stripeCustomerId
http://localhost:8888 "POST /payment/customer HTTP/1.1" 500 122586
Internal Server Error: /user/signup
Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
>>>>>>> 3c5f2c76cc99c9c77c0f32049fe7e7cbd293dad7
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< HEAD
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py", line 27, in signup
    data['stripeCustomerId'] = stripeCustomerId(data['username'], data['email'], request)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py", line 132, in stripeCustomerId
    return response.json()["stripe_customer_id"]
           ^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
https://api.stripe.com:443 "GET /v1/customers?email=amiratam3000%40example.com&limit=1 HTTP/1.1" 200 812
message='Stripe API response' path=https://api.stripe.com/v1/customers?email=amiratam3000%40example.com&limit=1 response_code=200
body='{\n  "object": "list",\n  "data": [\n    {\n      "id": "cus_Q6wvKFZr3WPNRm",\n      "object": "customer",\n      "address": null,\n      "balance": 0,\n      "created": 1715784121,\n      "currency": null,\n      "default_source": null,\n      "delinquent": false,\n      "description": null,\n      "discount": null,\n      "email": "amiratam3000@example.com",\n      "invoice_prefix": "C1007823",\n      "invoice_settings": {\n        "custom_fields": null,\n        "default_payment_method": null,\n        "footer": null,\n        "rendering_options": null\n      },\n      "livemode": false,\n      "metadata": {},\n      "name": "Amira_792",\n      "phone": null,\n      "preferred_locales": [],\n      "shipping": null,\n      "tax_exempt": "none",\n      "test_clock": null\n    }\n  ],\n  "has_more": false,\n  "url": "/v1/customers"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_Q9Lkn6ZvttJdDu message='Dashboard link for request'
User Amira_792  amiratam3000@example.com  has already an account 
Internal Server Error: /payment/customer
Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 174, in __getattr__
    return self[k]
           ~~~~^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 216, in __getitem__
    raise err
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 204, in __getitem__
=======
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py", line 27, in signup
    data['stripeCustomerId'] = stripeCustomerId(data['username'], data['email'], request)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py", line 132, in stripeCustomerId
    return response.json()["stripe_customer_id"]
           ^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py changed, reloading.
Watching for file changes with StatReloader
Starting new HTTP connection (1): localhost:8888
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1
api_version=2023-10-16 message='Post details' post_data=email=amine%40gmail.com&limit=1
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "GET /v1/customers?email=amine%40gmail.com&limit=1 HTTP/1.1" 200 799
message='Stripe API response' path=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1 response_code=200
body='{\n  "object": "list",\n  "data": [\n    {\n      "id": "cus_Q9BbVkLGH0wb6s",\n      "object": "customer",\n      "address": null,\n      "balance": 0,\n      "created": 1716299985,\n      "currency": null,\n      "default_source": null,\n      "delinquent": false,\n      "description": null,\n      "discount": null,\n      "email": "amine@gmail.com",\n      "invoice_prefix": "B4D92177",\n      "invoice_settings": {\n        "custom_fields": null,\n        "default_payment_method": null,\n        "footer": null,\n        "rendering_options": null\n      },\n      "livemode": false,\n      "metadata": {},\n      "name": "AMINE",\n      "phone": null,\n      "preferred_locales": [],\n      "shipping": null,\n      "tax_exempt": "none",\n      "test_clock": null\n    }\n  ],\n  "has_more": false,\n  "url": "/v1/customers"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_AdIrvmcHdoZZGe message='Dashboard link for request'
User AMINE  amine@gmail.com  has already an account 
Internal Server Error: /payment/customer
Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 174, in __getattr__
    return self[k]
           ~~~~^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 216, in __getitem__
    raise err
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 204, in __getitem__
>>>>>>> 3c5f2c76cc99c9c77c0f32049fe7e7cbd293dad7
    return super(StripeObject, self).__getitem__(k)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'stripeCustomerId'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< HEAD
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\Payement_Validation\views.py", line 66, in addUser
    return Response({'stripe_customer_id': existing_customer.data[0].stripeCustomerId}, status=status.HTTP_200_OK)
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\stripe\_stripe_object.py", line 176, in __getattr__
    raise AttributeError(*err.args)
AttributeError: stripeCustomerId
http://localhost:8000 "POST /payment/customer HTTP/1.1" 500 119395
Internal Server Error: /user/signup
Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 355, in raw_decode
=======
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\Payement_Validation\views.py", line 66, in addUser
    return Response({'stripe_customer_id': existing_customer.data[0].stripeCustomerId}, status=status.HTTP_200_OK)
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 176, in __getattr__
    raise AttributeError(*err.args)
AttributeError: stripeCustomerId
http://localhost:8888 "POST /payment/customer HTTP/1.1" 500 122586
Internal Server Error: /user/signup
Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
>>>>>>> 3c5f2c76cc99c9c77c0f32049fe7e7cbd293dad7
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< HEAD
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py", line 27, in signup
    data['stripeCustomerId'] = stripeCustomerId(data['username'], data['email'], request)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\Desktop\2CS\S2\Projet\EasyLaw\back\User\views.py", line 132, in stripeCustomerId
    return response.json()["stripe_customer_id"]
           ^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
=======
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py", line 27, in signup
    data['stripeCustomerId'] = stripeCustomerId(data['username'], data['email'], request)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py", line 132, in stripeCustomerId
    return response.json()["stripe_customer_id"]
           ^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
Starting new HTTP connection (1): localhost:8888
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1
api_version=2023-10-16 message='Post details' post_data=email=amine%40gmail.com&limit=1
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "GET /v1/customers?email=amine%40gmail.com&limit=1 HTTP/1.1" 200 799
message='Stripe API response' path=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1 response_code=200
body='{\n  "object": "list",\n  "data": [\n    {\n      "id": "cus_Q9BbVkLGH0wb6s",\n      "object": "customer",\n      "address": null,\n      "balance": 0,\n      "created": 1716299985,\n      "currency": null,\n      "default_source": null,\n      "delinquent": false,\n      "description": null,\n      "discount": null,\n      "email": "amine@gmail.com",\n      "invoice_prefix": "B4D92177",\n      "invoice_settings": {\n        "custom_fields": null,\n        "default_payment_method": null,\n        "footer": null,\n        "rendering_options": null\n      },\n      "livemode": false,\n      "metadata": {},\n      "name": "AMINE",\n      "phone": null,\n      "preferred_locales": [],\n      "shipping": null,\n      "tax_exempt": "none",\n      "test_clock": null\n    }\n  ],\n  "has_more": false,\n  "url": "/v1/customers"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_nFlz7P8XXxBzuv message='Dashboard link for request'
User AMINE  amine@gmail.com  has already an account 
Internal Server Error: /payment/customer
Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 174, in __getattr__
    return self[k]
           ~~~~^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 216, in __getitem__
    raise err
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 204, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'stripeCustomerId'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\Payement_Validation\views.py", line 66, in addUser
    return Response({'stripe_customer_id': existing_customer.data[0].stripeCustomerId}, status=status.HTTP_200_OK)
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 176, in __getattr__
    raise AttributeError(*err.args)
AttributeError: stripeCustomerId
http://localhost:8888 "POST /payment/customer HTTP/1.1" 500 122586
Internal Server Error: /user/signup
Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py", line 27, in signup
    data['stripeCustomerId'] = stripeCustomerId(data['username'], data['email'], request)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py", line 132, in stripeCustomerId
    return response.json()["stripe_customer_id"]
           ^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
Watching for file changes with StatReloader
Starting new HTTP connection (1): localhost:8888
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1
api_version=2023-10-16 message='Post details' post_data=email=amine%40gmail.com&limit=1
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "GET /v1/customers?email=amine%40gmail.com&limit=1 HTTP/1.1" 200 799
message='Stripe API response' path=https://api.stripe.com/v1/customers?email=amine%40gmail.com&limit=1 response_code=200
body='{\n  "object": "list",\n  "data": [\n    {\n      "id": "cus_Q9BbVkLGH0wb6s",\n      "object": "customer",\n      "address": null,\n      "balance": 0,\n      "created": 1716299985,\n      "currency": null,\n      "default_source": null,\n      "delinquent": false,\n      "description": null,\n      "discount": null,\n      "email": "amine@gmail.com",\n      "invoice_prefix": "B4D92177",\n      "invoice_settings": {\n        "custom_fields": null,\n        "default_payment_method": null,\n        "footer": null,\n        "rendering_options": null\n      },\n      "livemode": false,\n      "metadata": {},\n      "name": "AMINE",\n      "phone": null,\n      "preferred_locales": [],\n      "shipping": null,\n      "tax_exempt": "none",\n      "test_clock": null\n    }\n  ],\n  "has_more": false,\n  "url": "/v1/customers"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_ngMDrcWrPqUAUe message='Dashboard link for request'
User AMINE  amine@gmail.com  has already an account 
Internal Server Error: /payment/customer
Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 174, in __getattr__
    return self[k]
           ~~~~^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 216, in __getitem__
    raise err
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 204, in __getitem__
    return super(StripeObject, self).__getitem__(k)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'stripeCustomerId'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\Payement_Validation\views.py", line 66, in addUser
    return Response({'stripe_customer_id': existing_customer.data[0].stripeCustomerId}, status=status.HTTP_200_OK)
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\stripe\_stripe_object.py", line 176, in __getattr__
    raise AttributeError(*err.args)
AttributeError: stripeCustomerId
http://localhost:8888 "POST /payment/customer HTTP/1.1" 500 122586
Internal Server Error: /user/signup
Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py", line 27, in signup
    data['stripeCustomerId'] = stripeCustomerId(data['username'], data['email'], request)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\User\views.py", line 132, in stripeCustomerId
    return response.json()["stripe_customer_id"]
           ^^^^^^^^^^^^^^^
  File "C:\Users\Manel\Desktop\2CS\S2\PROJET\TD\EasyLaw\back\venv\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
Watching for file changes with StatReloader
get All users Info 
User USER client login
Starting new HTTP connection (1): localhost:9200
http://localhost:9200 "POST /juridical_texts/_search HTTP/1.1" 200 None
POST http://localhost:9200/juridical_texts/_search [status:200 duration:0.126s]
User USER client H    get_type_and_source of Juridical Text 
get All users Info 
User USER client login
User USER client logout  
Get All users 
get All users Info 
User DEMO admin login
User DEMO admin logout  
>>>>>>> 3c5f2c76cc99c9c77c0f32049fe7e7cbd293dad7
Watching for file changes with StatReloader
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/urls.py changed, reloading.
Watching for file changes with StatReloader
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
Internal Server Error: /payment/accesses
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
User zaki-h      signed up as a client
Internal Server Error: /payment/accesses
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
User zaki-h      signed up as a client
Internal Server Error: /payment/accesses
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
User zaki-h      signed up as a client
Internal Server Error: /payment/accesses
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
User zaki-h      signed up as a client
Internal Server Error: /payment/accesses
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
User zaki-h      signed up as a client
Internal Server Error: /payment/accesses
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
User zaki-h      signed up as a client
Internal Server Error: /payment/accesses
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
User zaki-h      signed up as a client
Internal Server Error: /payment/accesses
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
User zaki-h      signed up as a client
Internal Server Error: /payment/accesses
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
Not Found: /access
Not Found: /payment/access
Not Found: /payment//access
Not Found: /payment//access
Not Found: /payment/access
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/urls.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /payment/access
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
Internal Server Error: /payment/access
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 224, in getAccesses
    serializer = AccessSerializer(services, many=True)
NameError: name 'services' is not defined
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /payment/access
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/fields.py", line 446, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/fields.py", line 96, in get_attribute
    instance = getattr(instance, attr)
AttributeError: 'Access' object has no attribute 'date'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 225, in getAccesses
    serialized_data = serializer.data
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 768, in data
    ret = super().data
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 686, in to_representation
    return [
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 687, in <listcomp>
    self.child.to_representation(item) for item in iterable
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 509, in to_representation
    attribute = field.get_attribute(instance)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/fields.py", line 479, in get_attribute
    raise type(exc)(msg)
AttributeError: Got AttributeError when attempting to get a value for field `date` on serializer `AccessSerializer`.
The serializer field might be named incorrectly and not match any attribute or key on the `Access` instance.
Original exception text was: 'Access' object has no attribute 'date'.
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /payment/access
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 229, in getAccesses
    return Response({data: serialized_data}, status=status.HTTP_200_OK)
NameError: name 'data' is not defined
Internal Server Error: /payment/access
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 229, in getAccesses
    return Response({data: serialized_data}, status=status.HTTP_200_OK)
NameError: name 'data' is not defined
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /payment/access
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/renderers.py", line 99, in render
    ret = json.dumps(
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/utils/encoders.py", line 67, in default
    return super().default(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ListSerializer is not JSON serializable
Internal Server Error: /payment/access
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/renderers.py", line 99, in render
    ret = json.dumps(
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/utils/encoders.py", line 67, in default
    return super().default(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ListSerializer is not JSON serializable
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /payment/access
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/fields.py", line 446, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/fields.py", line 96, in get_attribute
    instance = getattr(instance, attr)
AttributeError: 'Access' object has no attribute 'date'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 225, in getAccesses
    serialized_data = serializer.data
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 768, in data
    ret = super().data
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 686, in to_representation
    return [
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 687, in <listcomp>
    self.child.to_representation(item) for item in iterable
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/serializers.py", line 509, in to_representation
    attribute = field.get_attribute(instance)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/fields.py", line 479, in get_attribute
    raise type(exc)(msg)
AttributeError: Got AttributeError when attempting to get a value for field `date` on serializer `AccessSerializer`.
The serializer field might be named incorrectly and not match any attribute or key on the `Access` instance.
Original exception text was: 'Access' object has no attribute 'date'.
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/serializers.py changed, reloading.
Watching for file changes with StatReloader
User zaki-h      signed up as a client
Not Found: /payment/accesses
User zaki-h      signed up as a client
Not Found: /payment/accesses
User zaki-h      signed up as a client
Not Found: /payment/accesses
User zaki-h      signed up as a client
Not Found: /payment/accesses
User zaki-h      signed up as a client
Not Found: /payment/accesses
User zaki-h      signed up as a client
Not Found: /payment/accesses
User zaki-h      signed up as a client
Not Found: /payment/accesses
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
Unauthorized: /payment/subscribtion
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/urls.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/urls.py changed, reloading.
Watching for file changes with StatReloader
Method Not Allowed: /payment/addService
Internal Server Error: /payment/addService
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 248, in addService
    serializer = AccessSerializer(data=subscription)
NameError: name 'subscription' is not defined
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /payment/addService
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /payment/addService
Bad Request: /payment/addService
Bad Request: /payment/addService
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /payment/addService
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9Q4Ve6cQBhTpR",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716353794,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716353794,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_1XzYAvuvaWDvUu message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=2000&recurring[interval]=month&product=prod_Q9Q4Ve6cQBhTpR
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 652
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7E7LDzFR9kcMz0STf3hys",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716353795,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9Q4Ve6cQBhTpR",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 2000,\n  "unit_amount_decimal": "2000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_iPyUnG6wDHK6eA message='Dashboard link for request'
Bad Request: /payment/addService
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9Q4uwtuER2rtT",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716353812,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716353812,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_qj9z1UROMn66wC message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=2000&recurring[interval]=month&product=prod_Q9Q4uwtuER2rtT
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 652
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7EOLDzFR9kcMzzTYg5G6N",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716353812,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9Q4uwtuER2rtT",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 2000,\n  "unit_amount_decimal": "2000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_3EA36B0eXPj5aT message='Dashboard link for request'
Bad Request: /payment/addService
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9Q8MYbkngSImb",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354025,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354025,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_GocIZPTtcKexp8 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9Q8MYbkngSImb
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7HpLDzFR9kcMzckQp3cZr",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354025,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9Q8MYbkngSImb",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_CwoSi0knotyosL message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
Method Not Allowed: /payment/service
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Resetting dropped connection: api.stripe.com
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QANuC5faCDlA",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354141,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354141,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_E9lCLSs4NFkTzl message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QANuC5faCDlA
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7JiLDzFR9kcMzC7BPS3eb",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354142,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QANuC5faCDlA",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_lXaxEcuDZtsefc message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
Method Not Allowed: /payment/service
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Resetting dropped connection: api.stripe.com
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QC0c7LU6Wyqy",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354282,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354282,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_XBcqAnwXEjSMc7 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QC0c7LU6Wyqy
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7LzLDzFR9kcMzqhQeICnE",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354283,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QC0c7LU6Wyqy",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_ucOslFuARc9nmi message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Resetting dropped connection: api.stripe.com
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QEkUkR3Bnlal",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354401,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354401,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_sIIDuDpY3j3shv message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QEkUkR3Bnlal
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7NuLDzFR9kcMzVlIImtWm",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354402,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QEkUkR3Bnlal",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_ExGFTwjUZuShi9 message='Dashboard link for request'
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QEpY8lD3sb2H",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354420,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354420,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_2AsORkEuWa9JoF message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QEpY8lD3sb2H
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7OCLDzFR9kcMz3yUhAQHP",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354420,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QEpY8lD3sb2H",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_yGWiSXWMvhdGhT message='Dashboard link for request'
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QIT5dSxm3cPU",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354636,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354636,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_pP4q3Da2EaBYMt message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QIT5dSxm3cPU
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7RgLDzFR9kcMz9aHpZjql",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354636,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QIT5dSxm3cPU",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_qCx1FvjNkdTE6H message='Dashboard link for request'
Internal Server Error: /payment/addService
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py", line 2117, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a real number, not 'dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 260, in addService
    service.accesses.add(Access.objects.get(id=access))
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/query.py", line 635, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1613, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1645, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1559, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1389, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/lookups.py", line 364, in get_prep_lookup
    return super().get_prep_lookup()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/lookups.py", line 88, in get_prep_lookup
    return self.lhs.output_field.get_prep_value(self.rhs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/fields/__init__.py", line 2119, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got {'id': 0, 'code': 'law', 'nom': '    '}.
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QIehk8Oc7H5w",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354670,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354670,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_fE8yP7qlGQUpuW message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QIehk8Oc7H5w
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7SELDzFR9kcMzC48J3f5B",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354670,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QIehk8Oc7H5w",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_9tUE46O0me0vLY message='Dashboard link for request'
Internal Server Error: /payment/addService
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 260, in addService
    service.accesses.add(Access.objects.get(id=access))
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
Payement_Validation.models.Access.DoesNotExist: Access matching query does not exist.
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Resetting dropped connection: api.stripe.com
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QL6r0dLKuSJq",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354802,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354802,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_7U5XJYduBPavFA message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QL6r0dLKuSJq
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7UMLDzFR9kcMz7JaeF0Bs",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354802,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QL6r0dLKuSJq",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_UIwGBSmLWGPo1T message='Dashboard link for request'
Bad Request: /payment/addService
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QL9CbsurHbs9",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354809,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354809,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_lVgCut4ea5PiDh message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QL9CbsurHbs9
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7UTLDzFR9kcMzxkd2orIh",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354809,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QL9CbsurHbs9",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_cFxEgDigChpdh0 message='Dashboard link for request'
Bad Request: /payment/addService
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QMjjn6piGDDu",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354898,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354898,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_STiq3SAWmjgyCH message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QMjjn6piGDDu
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7VuLDzFR9kcMzCwd1Ief6",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354898,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QMjjn6piGDDu",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_0k0KZ7P9E0r32Y message='Dashboard link for request'
Internal Server Error: /payment/addService
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 263, in addService
    serializer.accesses.add(Access.objects.get(id=access))
AttributeError: 'ServiceSerializer' object has no attribute 'accesses'
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QNDzTQ0qeF7W",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354958,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354958,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_fVMIYIocLLsonp message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QNDzTQ0qeF7W
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7WtLDzFR9kcMzHfwTMrwe",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354959,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QNDzTQ0qeF7W",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_UuWZCwDzhcIcix message='Dashboard link for request'
Internal Server Error: /payment/addService
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 261, in addService
    serializer.accesses.add(Access.objects.get(id=access))
UnboundLocalError: local variable 'serializer' referenced before assignment
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QNQWv5goj89I",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716354978,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716354978,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_LLgWSOYreWn8P0 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QNQWv5goj89I
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7XCLDzFR9kcMz5PSXIZcx",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716354978,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QNQWv5goj89I",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_7N1vNBwFyRLp0f message='Dashboard link for request'
Internal Server Error: /payment/addService
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 261, in addService
    service.accesses.add(Access.objects.get(id=access))
AttributeError: 'dict' object has no attribute 'accesses'
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QPbuSY01BYzE",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716355051,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716355051,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_14ts5VRkb6fFIs message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QPbuSY01BYzE
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7YOLDzFR9kcMz44HfVlMY",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716355052,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QPbuSY01BYzE",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_NKcOZIP0XSsOmB message='Dashboard link for request'
Internal Server Error: /payment/addService
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/renderers.py", line 99, in render
    ret = json.dumps(
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/utils/encoders.py", line 67, in default
    return super().default(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Service is not JSON serializable
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QPSseIHwcGUA",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716355082,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716355082,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_W2JRWrK7tufI3c message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QPSseIHwcGUA
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7YtLDzFR9kcMzdTM0q1Al",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716355083,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QPSseIHwcGUA",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_2LwdfJGfQLAUQT message='Dashboard link for request'
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Resetting dropped connection: api.stripe.com
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QSA6jJScIEgU",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716355266,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716355266,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_Tj33GqG6xkDMnz message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_Q9QSA6jJScIEgU
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716355266,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QSA6jJScIEgU",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_jRpNYSM7ASe3xt message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User 5   this user is now subscribed 
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods
api_version=2023-10-16 message='Post details' post_data=type=card&card[token]=tok_1PJ7cjLDzFR9kcMzWB6Qn4eq
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/payment_methods HTTP/1.1" 200 1009
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods response_code=200
body='{\n  "id": "pm_1PJ7ckLDzFR9kcMzSMFFeuKt",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": "Hamdane Zakaria",\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "unchecked"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 12,\n    "exp_year": 2032,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716355322,\n  "customer": null,\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_xMfWJwxQ7wGW0I message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods/pm_1PJ7ckLDzFR9kcMzSMFFeuKt/attach
api_version=2023-10-16 message='Post details' post_data=customer=cus_Q9NeHWDcIy5jTq
https://api.stripe.com:443 "POST /v1/payment_methods/pm_1PJ7ckLDzFR9kcMzSMFFeuKt/attach HTTP/1.1" 200 1020
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods/pm_1PJ7ckLDzFR9kcMzSMFFeuKt/attach response_code=200
body='{\n  "id": "pm_1PJ7ckLDzFR9kcMzSMFFeuKt",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": "Hamdane Zakaria",\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "pass"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 12,\n    "exp_year": 2032,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716355322,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_48Xtzk6Xv1BZ9q message='Dashboard link for request'
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww response_code=200
body='{\n  "id": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716344848,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719023248,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716344848,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716344848,\n  "currency": "dzd",\n  "current_period_end": 1719023248,\n  "current_period_start": 1716344848,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PJ4tmLDzFR9kcMzb5wZ3AAg",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_Q9NfrDchU8VrLV",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716344848,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1OygzALDzFR9kcMzRSTnrTUn",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1711486364,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1OygzALDzFR9kcMzRSTnrTUn",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1711486364,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PJ4toLDzFR9kcMzOB1N9Qww"\n  },\n  "latest_invoice": "in_1PJ4toLDzFR9kcMzeMkdLcfr",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1OygzALDzFR9kcMzRSTnrTUn",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 200000,\n    "amount_decimal": "200000",\n    "billing_scheme": "per_unit",\n    "created": 1711486364,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PoJckyovwroHYV",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716344848,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_S5Uj8NsHeJFMFW message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww
api_version=2023-10-16 message='Post details' post_data=default_payment_method=pm_1PJ7ckLDzFR9kcMzSMFFeuKt&items[0][id]=si_Q9NfrDchU8VrLV&items[0][price]=price_1PJ7bqLDzFR9kcMz9edw7C26&billing_cycle_anchor=now
https://api.stripe.com:443 "POST /v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww response_code=200
body='{\n  "id": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716355324,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719033724,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716355324,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716344848,\n  "currency": "dzd",\n  "current_period_end": 1719033724,\n  "current_period_start": 1716355324,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PJ7ckLDzFR9kcMzSMFFeuKt",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_Q9NfrDchU8VrLV",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716344848,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1716355266,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_Q9QSA6jJScIEgU",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716355266,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_Q9QSA6jJScIEgU",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PJ4toLDzFR9kcMzOB1N9Qww"\n  },\n  "latest_invoice": "in_1PJ7cmLDzFR9kcMzwSwBjHZz",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 200000,\n    "amount_decimal": "200000",\n    "billing_scheme": "per_unit",\n    "created": 1716355266,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_Q9QSA6jJScIEgU",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716344848,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_O0DndELXUzxso1 message='Dashboard link for request'
User 5  is upgraded
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/invoices/in_1PJ7cmLDzFR9kcMzwSwBjHZz
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/invoices/in_1PJ7cmLDzFR9kcMzwSwBjHZz HTTP/1.1" 200 8150
message='Stripe API response' path=https://api.stripe.com/v1/invoices/in_1PJ7cmLDzFR9kcMzwSwBjHZz response_code=200
body='{\n  "id": "in_1PJ7cmLDzFR9kcMzwSwBjHZz",\n  "object": "invoice",\n  "account_country": "FR",\n  "account_name": "EasyLaw",\n  "account_tax_ids": null,\n  "amount_due": 0,\n  "amount_paid": 0,\n  "amount_remaining": 0,\n  "amount_shipping": 0,\n  "application": null,\n  "application_fee_amount": null,\n  "attempt_count": 0,\n  "attempted": true,\n  "auto_advance": false,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "status": null\n  },\n  "billing_reason": "subscription_update",\n  "charge": null,\n  "collection_method": "charge_automatically",\n  "created": 1716355324,\n  "currency": "dzd",\n  "custom_fields": null,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "customer_address": null,\n  "customer_email": "zaki@zaki.com",\n  "customer_name": "zaki-h",\n  "customer_phone": null,\n  "customer_shipping": null,\n  "customer_tax_exempt": "none",\n  "customer_tax_ids": [],\n  "default_payment_method": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "due_date": null,\n  "effective_at": 1716355324,\n  "ending_balance": 782,\n  "footer": null,\n  "from_invoice": null,\n  "hosted_invoice_url": "https://invoice.stripe.com/i/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9ROVFUY0plVFhpY3FwT2VTV0RDajBHaTZkeUNQOFNKLDEwNjg5NjEyNg0200U3m9U8y2?s=ap",\n  "invoice_pdf": "https://pay.stripe.com/invoice/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9ROVFUY0plVFhpY3FwT2VTV0RDajBHaTZkeUNQOFNKLDEwNjg5NjEyNg0200U3m9U8y2/pdf?s=ap",\n  "issuer": {\n    "type": "self"\n  },\n  "last_finalization_error": null,\n  "latest_revision": null,\n  "lines": {\n    "object": "list",\n    "data": [\n      {\n        "id": "il_1PJ7cmLDzFR9kcMzcagEZoLb",\n        "object": "line_item",\n        "amount": -199218,\n        "amount_excluding_tax": -199218,\n        "currency": "dzd",\n        "description": "Unused time on Basic after 22 May 2024",\n        "discount_amounts": [],\n        "discountable": false,\n        "discounts": [],\n        "invoice": "in_1PJ7cmLDzFR9kcMzwSwBjHZz",\n        "invoice_item": "ii_1PJ7cmLDzFR9kcMzbUFy9AQz",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719023248,\n          "start": 1716355324\n        },\n        "plan": {\n          "id": "price_1OygzALDzFR9kcMzRSTnrTUn",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1711486364,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1OygzALDzFR9kcMzRSTnrTUn",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1711486364,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "proration": true,\n        "proration_details": {\n          "credited_items": {\n            "invoice": "in_1PJ4toLDzFR9kcMzeMkdLcfr",\n            "invoice_line_items": [\n              "il_1PJ4toLDzFR9kcMz2Xz3oYhQ"\n            ]\n          }\n        },\n        "quantity": 1,\n        "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n        "subscription_item": "si_Q9NfrDchU8VrLV",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "invoiceitem",\n        "unit_amount_excluding_tax": "-199218"\n      },\n      {\n        "id": "il_1PJ7cmLDzFR9kcMzqhVbURHR",\n        "object": "line_item",\n        "amount": 200000,\n        "amount_excluding_tax": 200000,\n        "currency": "dzd",\n        "description": "1    (at 2,000.00 . / month)",\n        "discount_amounts": [],\n        "discountable": true,\n        "discounts": [],\n        "invoice": "in_1PJ7cmLDzFR9kcMzwSwBjHZz",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719033724,\n          "start": 1716355324\n        },\n        "plan": {\n          "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1716355266,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_Q9QSA6jJScIEgU",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716355266,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_Q9QSA6jJScIEgU",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "proration": false,\n        "proration_details": {\n          "credited_items": null\n        },\n        "quantity": 1,\n        "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n        "subscription_item": "si_Q9NfrDchU8VrLV",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "subscription",\n        "unit_amount_excluding_tax": "200000"\n      }\n    ],\n    "has_more": false,\n    "total_count": 2,\n    "url": "/v1/invoices/in_1PJ7cmLDzFR9kcMzwSwBjHZz/lines"\n  },\n  "livemode": false,\n  "metadata": {},\n  "next_payment_attempt": null,\n  "number": "20099C06-0251",\n  "on_behalf_of": null,\n  "paid": true,\n  "paid_out_of_band": false,\n  "payment_intent": null,\n  "payment_settings": {\n    "default_mandate": null,\n    "payment_method_options": null,\n    "payment_method_types": null\n  },\n  "period_end": 1716355324,\n  "period_start": 1716355324,\n  "post_payment_credit_notes_amount": 0,\n  "pre_payment_credit_notes_amount": 0,\n  "quote": null,\n  "receipt_number": null,\n  "rendering": null,\n  "rendering_options": null,\n  "shipping_cost": null,\n  "shipping_details": null,\n  "starting_balance": 0,\n  "statement_descriptor": null,\n  "status": "paid",\n  "status_transitions": {\n    "finalized_at": 1716355324,\n    "marked_uncollectible_at": null,\n    "paid_at": 1716355324,\n    "voided_at": null\n  },\n  "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n  "subscription_details": {\n    "metadata": {}\n  },\n  "subtotal": 782,\n  "subtotal_excluding_tax": 782,\n  "tax": null,\n  "test_clock": null,\n  "total": 782,\n  "total_discount_amounts": [],\n  "total_excluding_tax": 782,\n  "total_tax_amounts": [],\n  "transfer_data": null,\n  "webhooks_delivered_at": 1716355324\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_G9aqOaTHNAkykt message='Dashboard link for request'
User zaki-h  get subscription
User zaki-h      signed up as a client
User 5   this user is now subscribed 
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods
api_version=2023-10-16 message='Post details' post_data=type=card&card[token]=tok_1PJ7dTLDzFR9kcMzYjixspXi
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/payment_methods HTTP/1.1" 200 1009
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods response_code=200
body='{\n  "id": "pm_1PJ7dULDzFR9kcMzGTdRrwLS",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": "Hamdane Zakaria",\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "unchecked"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 12,\n    "exp_year": 2032,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716355368,\n  "customer": null,\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_UwywKWFV6Ao9IV message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods/pm_1PJ7dULDzFR9kcMzGTdRrwLS/attach
api_version=2023-10-16 message='Post details' post_data=customer=cus_Q9NeHWDcIy5jTq
https://api.stripe.com:443 "POST /v1/payment_methods/pm_1PJ7dULDzFR9kcMzGTdRrwLS/attach HTTP/1.1" 200 1020
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods/pm_1PJ7dULDzFR9kcMzGTdRrwLS/attach response_code=200
body='{\n  "id": "pm_1PJ7dULDzFR9kcMzGTdRrwLS",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": "Hamdane Zakaria",\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "pass"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 12,\n    "exp_year": 2032,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716355368,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_i6v808BjzyZaOl message='Dashboard link for request'
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww response_code=200
body='{\n  "id": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716355324,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719033724,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716355324,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716344848,\n  "currency": "dzd",\n  "current_period_end": 1719033724,\n  "current_period_start": 1716355324,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PJ7ckLDzFR9kcMzSMFFeuKt",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_Q9NfrDchU8VrLV",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716344848,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1716355266,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_Q9QSA6jJScIEgU",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716355266,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_Q9QSA6jJScIEgU",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PJ4toLDzFR9kcMzOB1N9Qww"\n  },\n  "latest_invoice": "in_1PJ7cmLDzFR9kcMzwSwBjHZz",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 200000,\n    "amount_decimal": "200000",\n    "billing_scheme": "per_unit",\n    "created": 1716355266,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_Q9QSA6jJScIEgU",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716344848,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_M0jNkf4DoL3xzM message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww
api_version=2023-10-16 message='Post details' post_data=default_payment_method=pm_1PJ7dULDzFR9kcMzGTdRrwLS&items[0][id]=si_Q9NfrDchU8VrLV&items[0][price]=price_1Oyh0xLDzFR9kcMzSxmNoxEN&billing_cycle_anchor=now
https://api.stripe.com:443 "POST /v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PJ4toLDzFR9kcMzOB1N9Qww response_code=200
body='{\n  "id": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716355370,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719033770,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716355370,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716344848,\n  "currency": "dzd",\n  "current_period_end": 1719033770,\n  "current_period_start": 1716355370,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PJ7dULDzFR9kcMzGTdRrwLS",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_Q9NfrDchU8VrLV",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716344848,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 500000,\n          "amount_decimal": "500000",\n          "billing_scheme": "per_unit",\n          "created": 1711486475,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1711486475,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 500000,\n          "unit_amount_decimal": "500000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PJ4toLDzFR9kcMzOB1N9Qww"\n  },\n  "latest_invoice": "in_1PJ7dWLDzFR9kcMzSkXC7qh5",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 500000,\n    "amount_decimal": "500000",\n    "billing_scheme": "per_unit",\n    "created": 1711486475,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PoJe6tdXdgU9om",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716344848,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_s8LXeAksxrVOMs message='Dashboard link for request'
User 5  is upgraded
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/invoices/in_1PJ7dWLDzFR9kcMzSkXC7qh5
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/invoices/in_1PJ7dWLDzFR9kcMzSkXC7qh5 HTTP/1.1" 200 8221
message='Stripe API response' path=https://api.stripe.com/v1/invoices/in_1PJ7dWLDzFR9kcMzSkXC7qh5 response_code=200
body='{\n  "id": "in_1PJ7dWLDzFR9kcMzSkXC7qh5",\n  "object": "invoice",\n  "account_country": "FR",\n  "account_name": "EasyLaw",\n  "account_tax_ids": null,\n  "amount_due": 300785,\n  "amount_paid": 300785,\n  "amount_remaining": 0,\n  "amount_shipping": 0,\n  "application": null,\n  "application_fee_amount": null,\n  "attempt_count": 1,\n  "attempted": true,\n  "auto_advance": false,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "status": null\n  },\n  "billing_reason": "subscription_update",\n  "charge": "ch_3PJ7dWLDzFR9kcMz0klhZdRY",\n  "collection_method": "charge_automatically",\n  "created": 1716355370,\n  "currency": "dzd",\n  "custom_fields": null,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "customer_address": null,\n  "customer_email": "zaki@zaki.com",\n  "customer_name": "zaki-h",\n  "customer_phone": null,\n  "customer_shipping": null,\n  "customer_tax_exempt": "none",\n  "customer_tax_ids": [],\n  "default_payment_method": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "due_date": null,\n  "effective_at": 1716355370,\n  "ending_balance": 0,\n  "footer": null,\n  "from_invoice": null,\n  "hosted_invoice_url": "https://invoice.stripe.com/i/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9ROVFVZnU3Z2gzMzh2MUJVaDRNS2h2NWJrVWM3aUxNLDEwNjg5NjE3Mg0200Sz7KUm1s?s=ap",\n  "invoice_pdf": "https://pay.stripe.com/invoice/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9ROVFVZnU3Z2gzMzh2MUJVaDRNS2h2NWJrVWM3aUxNLDEwNjg5NjE3Mg0200Sz7KUm1s/pdf?s=ap",\n  "issuer": {\n    "type": "self"\n  },\n  "last_finalization_error": null,\n  "latest_revision": null,\n  "lines": {\n    "object": "list",\n    "data": [\n      {\n        "id": "il_1PJ7dWLDzFR9kcMzg4pRk2Lg",\n        "object": "line_item",\n        "amount": -199997,\n        "amount_excluding_tax": -199997,\n        "currency": "dzd",\n        "description": "Unused time on   after 22 May 2024",\n        "discount_amounts": [],\n        "discountable": false,\n        "discounts": [],\n        "invoice": "in_1PJ7dWLDzFR9kcMzSkXC7qh5",\n        "invoice_item": "ii_1PJ7dWLDzFR9kcMzvzdernNJ",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719033724,\n          "start": 1716355370\n        },\n        "plan": {\n          "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1716355266,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_Q9QSA6jJScIEgU",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ7bqLDzFR9kcMz9edw7C26",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716355266,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_Q9QSA6jJScIEgU",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "proration": true,\n        "proration_details": {\n          "credited_items": {\n            "invoice": "in_1PJ7cmLDzFR9kcMzwSwBjHZz",\n            "invoice_line_items": [\n              "il_1PJ7cmLDzFR9kcMzqhVbURHR"\n            ]\n          }\n        },\n        "quantity": 1,\n        "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n        "subscription_item": "si_Q9NfrDchU8VrLV",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "invoiceitem",\n        "unit_amount_excluding_tax": "-199997"\n      },\n      {\n        "id": "il_1PJ7dWLDzFR9kcMzS24zal3I",\n        "object": "line_item",\n        "amount": 500000,\n        "amount_excluding_tax": 500000,\n        "currency": "dzd",\n        "description": "1  Full (at 5,000.00 . / month)",\n        "discount_amounts": [],\n        "discountable": true,\n        "discounts": [],\n        "invoice": "in_1PJ7dWLDzFR9kcMzSkXC7qh5",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719033770,\n          "start": 1716355370\n        },\n        "plan": {\n          "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 500000,\n          "amount_decimal": "500000",\n          "billing_scheme": "per_unit",\n          "created": 1711486475,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1711486475,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 500000,\n          "unit_amount_decimal": "500000"\n        },\n        "proration": false,\n        "proration_details": {\n          "credited_items": null\n        },\n        "quantity": 1,\n        "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n        "subscription_item": "si_Q9NfrDchU8VrLV",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "subscription",\n        "unit_amount_excluding_tax": "500000"\n      }\n    ],\n    "has_more": false,\n    "total_count": 2,\n    "url": "/v1/invoices/in_1PJ7dWLDzFR9kcMzSkXC7qh5/lines"\n  },\n  "livemode": false,\n  "metadata": {},\n  "next_payment_attempt": null,\n  "number": "20099C06-0252",\n  "on_behalf_of": null,\n  "paid": true,\n  "paid_out_of_band": false,\n  "payment_intent": "pi_3PJ7dWLDzFR9kcMz0B1rBIDR",\n  "payment_settings": {\n    "default_mandate": null,\n    "payment_method_options": null,\n    "payment_method_types": null\n  },\n  "period_end": 1716355370,\n  "period_start": 1716355370,\n  "post_payment_credit_notes_amount": 0,\n  "pre_payment_credit_notes_amount": 0,\n  "quote": null,\n  "receipt_number": null,\n  "rendering": null,\n  "rendering_options": null,\n  "shipping_cost": null,\n  "shipping_details": null,\n  "starting_balance": 782,\n  "statement_descriptor": null,\n  "status": "paid",\n  "status_transitions": {\n    "finalized_at": 1716355370,\n    "marked_uncollectible_at": null,\n    "paid_at": 1716355370,\n    "voided_at": null\n  },\n  "subscription": "sub_1PJ4toLDzFR9kcMzOB1N9Qww",\n  "subscription_details": {\n    "metadata": {}\n  },\n  "subtotal": 300003,\n  "subtotal_excluding_tax": 300003,\n  "tax": null,\n  "test_clock": null,\n  "total": 300003,\n  "total_discount_amounts": [],\n  "total_excluding_tax": 300003,\n  "total_tax_amounts": [],\n  "transfer_data": null,\n  "webhooks_delivered_at": 1716355370\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_xK2ScMqNduAMnn message='Dashboard link for request'
User zaki-h  get subscription
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
Not Found: /favicon.ico
Watching for file changes with StatReloader
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QldijpTeXAIF",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716356369,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716356369,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_M0jOL9kSzQGmQW message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000&recurring[interval]=month&product=prod_Q9QldijpTeXAIF
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 400 739
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=400
body='{\n  "error": {\n    "code": "parameter_invalid_integer",\n    "doc_url": "https://stripe.com/docs/error-codes/parameter-invalid-integer",\n    "message": "Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000",\n    "param": "unit_amount",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_j0RXV1rkYzeoSS?t=1716356370",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_j0RXV1rkYzeoSS message='Dashboard link for request'
error_code=parameter_invalid_integer error_message='Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000' error_param=unit_amount error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/addService
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QlhKDWMLBJzg",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716356377,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716356377,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_9W6m0xWJLTeYAb message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000&recurring[interval]=month&product=prod_Q9QlhKDWMLBJzg
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 400 739
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=400
body='{\n  "error": {\n    "code": "parameter_invalid_integer",\n    "doc_url": "https://stripe.com/docs/error-codes/parameter-invalid-integer",\n    "message": "Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000",\n    "param": "unit_amount",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_6j7OHDwrBsz2KZ?t=1716356377",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_6j7OHDwrBsz2KZ message='Dashboard link for request'
error_code=parameter_invalid_integer error_message='Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000' error_param=unit_amount error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/addService
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QlCpUvEeldeL",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716356406,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716356407,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_dQSfXVAsHMSlFU message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000&recurring[interval]=month&product=prod_Q9QlCpUvEeldeL
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 400 739
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=400
body='{\n  "error": {\n    "code": "parameter_invalid_integer",\n    "doc_url": "https://stripe.com/docs/error-codes/parameter-invalid-integer",\n    "message": "Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000",\n    "param": "unit_amount",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_1hnDOBBflXq8Mx?t=1716356407",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_1hnDOBBflXq8Mx message='Dashboard link for request'
error_code=parameter_invalid_integer error_message='Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000' error_param=unit_amount error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/addService
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QmozBWu8fPVN",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716356455,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716356455,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_5IrvE7LnBWM5K8 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000&recurring[interval]=month&product=prod_Q9QmozBWu8fPVN
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 400 739
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=400
body='{\n  "error": {\n    "code": "parameter_invalid_integer",\n    "doc_url": "https://stripe.com/docs/error-codes/parameter-invalid-integer",\n    "message": "Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000",\n    "param": "unit_amount",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_FzPNRaW3bQFEsM?t=1716356456",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_FzPNRaW3bQFEsM message='Dashboard link for request'
error_code=parameter_invalid_integer error_message='Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000' error_param=unit_amount error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/addService
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=zarrza
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 474
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9Qnl5wlqfVlTa",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716356523,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "zarrza",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716356523,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_90HDQPKPerpvAc message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000&recurring[interval]=month&product=prod_Q9Qnl5wlqfVlTa
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 400 739
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=400
body='{\n  "error": {\n    "code": "parameter_invalid_integer",\n    "doc_url": "https://stripe.com/docs/error-codes/parameter-invalid-integer",\n    "message": "Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000",\n    "param": "unit_amount",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_SDGoEFgpvKvnK1?t=1716356524",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_SDGoEFgpvKvnK1 message='Dashboard link for request'
error_code=parameter_invalid_integer error_message='Invalid integer: 7000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000700070007000' error_param=unit_amount error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/addService
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products
api_version=2023-10-16 message='Post details' post_data=name=%D8%A7%D9%84%D8%A7%D8%B4%D8%AA%D8%B1%D8%A7%D9%83+%D8%A7%D9%84%D8%A3%D8%B3%D8%B7%D9%88%D8%B1%D9%8A
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/products HTTP/1.1" 200 501
message='Stripe API response' path=https://api.stripe.com/v1/products response_code=200
body='{\n  "id": "prod_Q9QozwQVhfhNq1",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1716356592,\n  "default_price": null,\n  "description": null,\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": " ",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716356592,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_0akgw3e6wWqhAI message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=700000&recurring[interval]=month&product=prod_Q9QozwQVhfhNq1
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ7xELDzFR9kcMzNYaT6uua",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716356592,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_Q9QozwQVhfhNq1",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 700000,\n  "unit_amount_decimal": "700000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_36ybLumhPWA5lr message='Dashboard link for request'
User zaki-h      signed up as a client
Not Found: /favicon.ico
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/urls.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /price/
Internal Server Error: /payment/price
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 284, in changePrice
    stripe.Price.modify(
  File "/home/zaki/.local/lib/python3.10/site-packages/stripe/_price.py", line 820, in modify
    url = "%s/%s" % (cls.class_url(), sanitize_id(id))
  File "/home/zaki/.local/lib/python3.10/site-packages/stripe/_util.py", line 398, in sanitize_id
    quotedId = quote_plus(id)
  File "/usr/lib/python3.10/urllib/parse.py", line 897, in quote_plus
    string = quote(string, safe + space, encoding, errors)
  File "/usr/lib/python3.10/urllib/parse.py", line 881, in quote
    return quote_from_bytes(string, safe)
  File "/usr/lib/python3.10/urllib/parse.py", line 906, in quote_from_bytes
    raise TypeError("quote_from_bytes() expected bytes")
TypeError: quote_from_bytes() expected bytes
Not Found: /favicon.ico
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 400 250
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=400
body='{\n  "error": {\n    "message": "This price cannot be archived because it is the default price of its product.",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_DiwaAI0rTAOntc?t=1716358179",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_DiwaAI0rTAOntc message='Dashboard link for request'
error_code=None error_message='This price cannot be archived because it is the default price of its product.' error_param=None error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/price
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=150000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8O5LDzFR9kcMzlH7wXtsq",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358257,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 150000,\n  "unit_amount_decimal": "150000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_9uUpKo61GJWPHN message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 400 250
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=400
body='{\n  "error": {\n    "message": "This price cannot be archived because it is the default price of its product.",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_XW7V0xElLOqj0v?t=1716358258",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_XW7V0xElLOqj0v message='Dashboard link for request'
error_code=None error_message='This price cannot be archived because it is the default price of its product.' error_param=None error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/price
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=150000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8OcLDzFR9kcMzsrGJesV3",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358290,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 150000,\n  "unit_amount_decimal": "150000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_eB7pSuPaeKmHqp message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 400 250
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=400
body='{\n  "error": {\n    "message": "This price cannot be archived because it is the default price of its product.",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_mi9l9DlcK1s3eM?t=1716358291",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_mi9l9DlcK1s3eM message='Dashboard link for request'
error_code=None error_message='This price cannot be archived because it is the default price of its product.' error_param=None error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/price
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=150000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8PmLDzFR9kcMzuygIu5Z6",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358362,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 150000,\n  "unit_amount_decimal": "150000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_5Em3SK9VVOB2pC message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8PmLDzFR9kcMzuygIu5Z6
https://api.stripe.com:443 "POST /v1/products/prod_PoJe6tdXdgU9om HTTP/1.1" 200 549
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om response_code=200
body='{\n  "id": "prod_PoJe6tdXdgU9om",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486475,\n  "default_price": "price_1PJ8PmLDzFR9kcMzuygIu5Z6",\n  "description": "Allows you to see all law files + access to the gpt",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Full",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716358362,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_SHEtI16RLbPWZL message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=200
body='{\n  "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1711486475,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 500000,\n  "unit_amount_decimal": "500000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_NjtpqQs5a9qkBY message='Dashboard link for request'
Internal Server Error: /payment/price
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 302, in changePrice
    subscription = Abonnement.objects.get(id=id)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
Payement_Validation.models.Abonnement.DoesNotExist: Abonnement matching query does not exist.
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=150000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8R2LDzFR9kcMzuWbkMFYT",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358440,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 150000,\n  "unit_amount_decimal": "150000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_bX15CCpr6RVnkJ message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8R2LDzFR9kcMzuWbkMFYT
https://api.stripe.com:443 "POST /v1/products/prod_PoJe6tdXdgU9om HTTP/1.1" 200 549
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om response_code=200
body='{\n  "id": "prod_PoJe6tdXdgU9om",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486475,\n  "default_price": "price_1PJ8R2LDzFR9kcMzuWbkMFYT",\n  "description": "Allows you to see all law files + access to the gpt",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Full",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716358441,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_lc2ZvdK36bq8sh message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=200
body='{\n  "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1711486475,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 500000,\n  "unit_amount_decimal": "500000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_7Ms0LSGshQgfPo message='Dashboard link for request'
Internal Server Error: /payment/price
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
AssertionError: Expected a `Response`, `HttpResponse` or `HttpStreamingResponse` to be returned from the view, but received a `<class 'NoneType'>`
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=150000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8SOLDzFR9kcMzjl8A6WwW",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358524,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 150000,\n  "unit_amount_decimal": "150000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_LjE5QPw44iyBgR message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8SOLDzFR9kcMzjl8A6WwW
https://api.stripe.com:443 "POST /v1/products/prod_PoJe6tdXdgU9om HTTP/1.1" 200 549
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om response_code=200
body='{\n  "id": "prod_PoJe6tdXdgU9om",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486475,\n  "default_price": "price_1PJ8SOLDzFR9kcMzjl8A6WwW",\n  "description": "Allows you to see all law files + access to the gpt",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Full",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716358525,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_vL4izHEmaxpxOb message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=200
body='{\n  "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1711486475,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 500000,\n  "unit_amount_decimal": "500000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_PFAjvz6xCSGWE6 message='Dashboard link for request'
Internal Server Error: /payment/price
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/renderers.py", line 99, in render
    ret = json.dumps(
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/utils/encoders.py", line 67, in default
    return super().default(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Service is not JSON serializable
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=500000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8SsLDzFR9kcMz68zeEYui",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358554,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 500000,\n  "unit_amount_decimal": "500000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_gkeUzvvclmKu7A message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8SsLDzFR9kcMz68zeEYui
https://api.stripe.com:443 "POST /v1/products/prod_PoJe6tdXdgU9om HTTP/1.1" 200 549
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om response_code=200
body='{\n  "id": "prod_PoJe6tdXdgU9om",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486475,\n  "default_price": "price_1PJ8SsLDzFR9kcMz68zeEYui",\n  "description": "Allows you to see all law files + access to the gpt",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Full",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716358554,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_p5svjzKGyBUJKu message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=200
body='{\n  "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1711486475,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 500000,\n  "unit_amount_decimal": "500000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_d2PnVUyseyYHCs message='Dashboard link for request'
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=600000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8T6LDzFR9kcMz6Jf4emf3",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358568,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 600000,\n  "unit_amount_decimal": "600000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_hggeujO7wtccq3 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8T6LDzFR9kcMz6Jf4emf3
https://api.stripe.com:443 "POST /v1/products/prod_PoJe6tdXdgU9om HTTP/1.1" 200 549
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om response_code=200
body='{\n  "id": "prod_PoJe6tdXdgU9om",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486475,\n  "default_price": "price_1PJ8T6LDzFR9kcMz6Jf4emf3",\n  "description": "Allows you to see all law files + access to the gpt",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Full",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716358568,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_lBZTjfLMYjkb3N message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=200
body='{\n  "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1711486475,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 500000,\n  "unit_amount_decimal": "500000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_JqQfgA44kNt9hv message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=600000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8TtLDzFR9kcMzliRNtscE",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358617,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 600000,\n  "unit_amount_decimal": "600000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_KEoM7mEzmdjhHE message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8TtLDzFR9kcMzliRNtscE
https://api.stripe.com:443 "POST /v1/products/prod_PoJe6tdXdgU9om HTTP/1.1" 200 549
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om response_code=200
body='{\n  "id": "prod_PoJe6tdXdgU9om",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486475,\n  "default_price": "price_1PJ8TtLDzFR9kcMzliRNtscE",\n  "description": "Allows you to see all law files + access to the gpt",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Full",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716358617,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_fDS9XJlBTEPKO4 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=200
body='{\n  "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1711486475,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 500000,\n  "unit_amount_decimal": "500000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_pY78DsteqyfYwo message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=600000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8UOLDzFR9kcMzGJVwW8zt",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358648,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 600000,\n  "unit_amount_decimal": "600000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_NV9iKaglx3Qf58 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8UOLDzFR9kcMzGJVwW8zt
https://api.stripe.com:443 "POST /v1/products/prod_PoJe6tdXdgU9om HTTP/1.1" 200 549
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om response_code=200
body='{\n  "id": "prod_PoJe6tdXdgU9om",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486475,\n  "default_price": "price_1PJ8UOLDzFR9kcMzGJVwW8zt",\n  "description": "Allows you to see all law files + access to the gpt",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Full",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716358648,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_8EEauK3xLm62wS message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=200
body='{\n  "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1711486475,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 500000,\n  "unit_amount_decimal": "500000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_m9hyzcGsh8sVHR message='Dashboard link for request'
Internal Server Error: /payment/price
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 304, in changePrice
    service.tarif = tarif
NameError: name 'tarif' is not defined
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=600000&recurring[interval]=month&product=prod_PoJe6tdXdgU9om
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716358684,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 600000,\n  "unit_amount_decimal": "600000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_2nQ3r5Gf8CguGc message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8UyLDzFR9kcMzS7FLUNyL
https://api.stripe.com:443 "POST /v1/products/prod_PoJe6tdXdgU9om HTTP/1.1" 200 549
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJe6tdXdgU9om response_code=200
body='{\n  "id": "prod_PoJe6tdXdgU9om",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486475,\n  "default_price": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n  "description": "Allows you to see all law files + access to the gpt",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Full",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716358685,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_R26hKA6Cf7HFiy message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1Oyh0xLDzFR9kcMzSxmNoxEN response_code=200
body='{\n  "id": "price_1Oyh0xLDzFR9kcMzSxmNoxEN",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1711486475,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJe6tdXdgU9om",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 500000,\n  "unit_amount_decimal": "500000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_8F7yf0vp8Z2bCc message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
Get All users 
User h-zaki  activated successfully
Get All users 
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=1500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500&recurring[interval]=month&product=prod_PoJckyovwroHYV
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 400 739
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=400
body='{\n  "error": {\n    "code": "parameter_invalid_integer",\n    "doc_url": "https://stripe.com/docs/error-codes/parameter-invalid-integer",\n    "message": "Invalid integer: 1500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500",\n    "param": "unit_amount",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_jVJj0EdFQtR4SF?t=1716360175",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_jVJj0EdFQtR4SF message='Dashboard link for request'
error_code=parameter_invalid_integer error_message='Invalid integer: 1500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500' error_param=unit_amount error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/price
User zaki-h      signed up as a client
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=1500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500&recurring[interval]=month&product=prod_PoJckyovwroHYV
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 400 739
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=400
body='{\n  "error": {\n    "code": "parameter_invalid_integer",\n    "doc_url": "https://stripe.com/docs/error-codes/parameter-invalid-integer",\n    "message": "Invalid integer: 1500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500",\n    "param": "unit_amount",\n    "request_log_url": "https://dashboard.stripe.com/test/logs/req_jMTi96Nc8NoWWP?t=1716360194",\n    "type": "invalid_request_error"\n  }\n}\n' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_jMTi96Nc8NoWWP message='Dashboard link for request'
error_code=parameter_invalid_integer error_message='Invalid integer: 1500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500150015001500' error_param=unit_amount error_type=invalid_request_error message='Stripe API error received'
Bad Request: /payment/price
User zaki-h      signed up as a client
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=150000&recurring[interval]=month&product=prod_PoJckyovwroHYV
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8toLDzFR9kcMzOtM57IgR",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716360224,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJckyovwroHYV",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 150000,\n  "unit_amount_decimal": "150000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_zyb5hpaTE1Ss6I message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJckyovwroHYV
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8toLDzFR9kcMzOtM57IgR
https://api.stripe.com:443 "POST /v1/products/prod_PoJckyovwroHYV HTTP/1.1" 200 534
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJckyovwroHYV response_code=200
body='{\n  "id": "prod_PoJckyovwroHYV",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486363,\n  "default_price": "price_1PJ8toLDzFR9kcMzOtM57IgR",\n  "description": "allows you to see all the law files",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Basic",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716360225,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_P4v6DncRlN10V5 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1OygzALDzFR9kcMzRSTnrTUn
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1OygzALDzFR9kcMzRSTnrTUn HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1OygzALDzFR9kcMzRSTnrTUn response_code=200
body='{\n  "id": "price_1OygzALDzFR9kcMzRSTnrTUn",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1711486364,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJckyovwroHYV",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_UxNUgKanYK8qU3 message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices
api_version=2023-10-16 message='Post details' post_data=currency=dzd&unit_amount=200000&recurring[interval]=month&product=prod_PoJckyovwroHYV
https://api.stripe.com:443 "POST /v1/prices HTTP/1.1" 200 656
message='Stripe API response' path=https://api.stripe.com/v1/prices response_code=200
body='{\n  "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n  "object": "price",\n  "active": true,\n  "billing_scheme": "per_unit",\n  "created": 1716360249,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJckyovwroHYV",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 200000,\n  "unit_amount_decimal": "200000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_iYySMXyjb7D3st message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/products/prod_PoJckyovwroHYV
api_version=2023-10-16 message='Post details' post_data=default_price=price_1PJ8uDLDzFR9kcMzvA9z5DIm
https://api.stripe.com:443 "POST /v1/products/prod_PoJckyovwroHYV HTTP/1.1" 200 534
message='Stripe API response' path=https://api.stripe.com/v1/products/prod_PoJckyovwroHYV response_code=200
body='{\n  "id": "prod_PoJckyovwroHYV",\n  "object": "product",\n  "active": true,\n  "attributes": [],\n  "created": 1711486363,\n  "default_price": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n  "description": "allows you to see all the law files",\n  "features": [],\n  "images": [],\n  "livemode": false,\n  "marketing_features": [],\n  "metadata": {},\n  "name": "Basic",\n  "package_dimensions": null,\n  "shippable": null,\n  "statement_descriptor": null,\n  "tax_code": null,\n  "type": "service",\n  "unit_label": null,\n  "updated": 1716360250,\n  "url": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_DbL9IqFiy8G0jk message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/prices/price_1PJ8toLDzFR9kcMzOtM57IgR
api_version=2023-10-16 message='Post details' post_data=active=False
https://api.stripe.com:443 "POST /v1/prices/price_1PJ8toLDzFR9kcMzOtM57IgR HTTP/1.1" 200 657
message='Stripe API response' path=https://api.stripe.com/v1/prices/price_1PJ8toLDzFR9kcMzOtM57IgR response_code=200
body='{\n  "id": "price_1PJ8toLDzFR9kcMzOtM57IgR",\n  "object": "price",\n  "active": false,\n  "billing_scheme": "per_unit",\n  "created": 1716360224,\n  "currency": "dzd",\n  "custom_unit_amount": null,\n  "livemode": false,\n  "lookup_key": null,\n  "metadata": {},\n  "nickname": null,\n  "product": "prod_PoJckyovwroHYV",\n  "recurring": {\n    "aggregate_usage": null,\n    "interval": "month",\n    "interval_count": 1,\n    "meter": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "tax_behavior": "unspecified",\n  "tiers_mode": null,\n  "transform_quantity": null,\n  "type": "recurring",\n  "unit_amount": 150000,\n  "unit_amount_decimal": "150000"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_259kYL2y18tx86 message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
Watching for file changes with StatReloader
Invalid HTTP_HOST header: 'e6bd-41-111-189-195.ngrok-free.app'. You may need to add 'e6bd-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'e6bd-41-111-189-195.ngrok-free.app'. You may need to add 'e6bd-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /user/login
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Invalid HTTP_HOST header: 'a104-41-111-189-195.ngrok-free.app'. You may need to add 'a104-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'a104-41-111-189-195.ngrok-free.app'. You may need to add 'a104-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /user/login
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Invalid HTTP_HOST header: 'a104-41-111-189-195.ngrok-free.app'. You may need to add 'a104-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'a104-41-111-189-195.ngrok-free.app'. You may need to add 'a104-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /user/login
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Invalid HTTP_HOST header: '127.0.0.1:8888'. You may need to add '127.0.0.1' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: '127.0.0.1:8888'. You may need to add '127.0.0.1' to ALLOWED_HOSTS.
Bad Request: /payment/service
Invalid HTTP_HOST header: '127.0.0.1:8888'. You may need to add '127.0.0.1' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: '127.0.0.1:8888'. You may need to add '127.0.0.1' to ALLOWED_HOSTS.
Bad Request: /payment/service
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /payment/service
User zaki-h      signed up as a client
Watching for file changes with StatReloader
Invalid HTTP_HOST header: '1b58-105-235-132-170.ngrok-free.app'. You may need to add '1b58-105-235-132-170.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: '1b58-105-235-132-170.ngrok-free.app'. You may need to add '1b58-105-235-132-170.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /user/login
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Invalid HTTP_HOST header: '1b58-105-235-132-170.ngrok-free.app'. You may need to add '1b58-105-235-132-170.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: '1b58-105-235-132-170.ngrok-free.app'. You may need to add '1b58-105-235-132-170.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /user/login
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /data_collection/distinct_years
Bad Request: /data_collection/types_sources
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /payment/service
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /data_collection/distinct_years
Bad Request: /data_collection/types_sources
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /payment/service
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /payment/service
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /payment/service
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /payment/service
Watching for file changes with StatReloader
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /payment/service
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
User zaki-h      signed up as a client
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /payment/subscribe
Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /payment/subscribe
Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /payment/subscribe
Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /payment/subscribe
Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'd908-41-111-189-195.ngrok-free.app'. You may need to add 'd908-41-111-189-195.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /payment/subscribe
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /payment/subscribe
User 5   this user is now subscribed 
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 116, in subscribe
    "token": token['id']
TypeError: string indices must be integers
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 116, in subscribe
    "token": token['id']
TypeError: string indices must be integers
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 117, in subscribe
    "token": token['id']
TypeError: string indices must be integers
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 90, in subscribe
    print(token["id"])
TypeError: string indices must be integers
Watching for file changes with StatReloader
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 90, in subscribe
    print(token["id"])
TypeError: string indices must be integers
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 117, in subscribe
    "token": token['id']
TypeError: string indices must be integers
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 117, in subscribe
    "token": token['id']
TypeError: string indices must be integers
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 90, in subscribe
    print(token.id)
AttributeError: 'str' object has no attribute 'id'
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 90, in subscribe
    print(token.id)
AttributeError: 'str' object has no attribute 'id'
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 90, in subscribe
    print(token.id)
AttributeError: 'str' object has no attribute 'id'
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 90, in subscribe
    print(token.id)
AttributeError: 'str' object has no attribute 'id'
Internal Server Error: /payment/subscribe
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/home/zaki/.local/lib/python3.10/site-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py", line 90, in subscribe
    print(token.id)
AttributeError: 'dict' object has no attribute 'id'
/home/zaki/ESI/Project/EasyLaw/back/Payement_Validation/views.py changed, reloading.
Watching for file changes with StatReloader
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods
api_version=2023-10-16 message='Post details' post_data=type=card&card[token]=tok_1PLmhKLDzFR9kcMzwvA7VcQ5
Starting new HTTPS connection (1): api.stripe.com:443
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods
api_version=2023-10-16 message='Post details' post_data=type=card&card[token]=tok_1PLmhGLDzFR9kcMzlivpgX64
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/payment_methods HTTP/1.1" 200 996
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods response_code=200
body='{\n  "id": "pm_1PLmhLLDzFR9kcMzFVH76fdK",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "unchecked"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716989868,\n  "customer": null,\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_e97Y71MposoawM message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods/pm_1PLmhLLDzFR9kcMzFVH76fdK/attach
api_version=2023-10-16 message='Post details' post_data=customer=cus_Q9NeHWDcIy5jTq
https://api.stripe.com:443 "POST /v1/payment_methods HTTP/1.1" 200 996
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods response_code=200
body='{\n  "id": "pm_1PLmhLLDzFR9kcMzM78L97KK",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "unchecked"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716989868,\n  "customer": null,\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_PSO8g0OfdO3J5m message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods/pm_1PLmhLLDzFR9kcMzM78L97KK/attach
api_version=2023-10-16 message='Post details' post_data=customer=cus_Q9NeHWDcIy5jTq
https://api.stripe.com:443 "POST /v1/payment_methods/pm_1PLmhLLDzFR9kcMzFVH76fdK/attach HTTP/1.1" 200 1007
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods/pm_1PLmhLLDzFR9kcMzFVH76fdK/attach response_code=200
body='{\n  "id": "pm_1PLmhLLDzFR9kcMzFVH76fdK",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "pass"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716989868,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_mqCIS1OU5E1wSR message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/subscriptions
api_version=2023-10-16 message='Post details' post_data=customer=cus_Q9NeHWDcIy5jTq&items[0][price]=price_1P8fiKLDzFR9kcMzVpfBEjvL&default_payment_method=pm_1PLmhLLDzFR9kcMzFVH76fdK&cancel_at_period_end=True
https://api.stripe.com:443 "POST /v1/payment_methods/pm_1PLmhLLDzFR9kcMzM78L97KK/attach HTTP/1.1" 200 1007
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods/pm_1PLmhLLDzFR9kcMzM78L97KK/attach response_code=200
body='{\n  "id": "pm_1PLmhLLDzFR9kcMzM78L97KK",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "pass"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716989868,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_Xv8axYd33EjzB4 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/subscriptions
api_version=2023-10-16 message='Post details' post_data=customer=cus_Q9NeHWDcIy5jTq&items[0][price]=price_1P8fiKLDzFR9kcMzVpfBEjvL&default_payment_method=pm_1PLmhLLDzFR9kcMzM78L97KK&cancel_at_period_end=True
https://api.stripe.com:443 "POST /v1/subscriptions HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions response_code=200
body='{\n  "id": "sub_1PLmhMLDzFR9kcMzDVqNx7S2",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716989868,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719668268,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716989868,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716989868,\n  "currency": "dzd",\n  "current_period_end": 1719668268,\n  "current_period_start": 1716989868,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PLmhLLDzFR9kcMzFVH76fdK",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_QCB3S5xVHD2OBZ",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716989869,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 300000,\n          "amount_decimal": "300000",\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 300000,\n          "unit_amount_decimal": "300000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhMLDzFR9kcMzDVqNx7S2",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PLmhMLDzFR9kcMzDVqNx7S2"\n  },\n  "latest_invoice": "in_1PLmhNLDzFR9kcMz59vSuZpW",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 300000,\n    "amount_decimal": "300000",\n    "billing_scheme": "per_unit",\n    "created": 1713864756,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PycygJwigJVlfW",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716989868,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_nYPVjyj7vxRKtQ message='Dashboard link for request'
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/invoices/in_1PLmhNLDzFR9kcMz59vSuZpW
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/invoices/in_1PLmhNLDzFR9kcMz59vSuZpW HTTP/1.1" 200 5512
message='Stripe API response' path=https://api.stripe.com/v1/invoices/in_1PLmhNLDzFR9kcMz59vSuZpW response_code=200
body='{\n  "id": "in_1PLmhNLDzFR9kcMz59vSuZpW",\n  "object": "invoice",\n  "account_country": "FR",\n  "account_name": "EasyLaw",\n  "account_tax_ids": null,\n  "amount_due": 300000,\n  "amount_paid": 300000,\n  "amount_remaining": 0,\n  "amount_shipping": 0,\n  "application": null,\n  "application_fee_amount": null,\n  "attempt_count": 1,\n  "attempted": true,\n  "auto_advance": false,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "status": null\n  },\n  "billing_reason": "subscription_create",\n  "charge": "ch_3PLmhNLDzFR9kcMz1NT4ajO4",\n  "collection_method": "charge_automatically",\n  "created": 1716989869,\n  "currency": "dzd",\n  "custom_fields": null,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "customer_address": null,\n  "customer_email": "zaki@zaki.com",\n  "customer_name": "zaki-h",\n  "customer_phone": null,\n  "customer_shipping": null,\n  "customer_tax_exempt": "none",\n  "customer_tax_ids": [],\n  "default_payment_method": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "due_date": null,\n  "effective_at": 1716989869,\n  "ending_balance": 0,\n  "footer": null,\n  "from_invoice": null,\n  "hosted_invoice_url": "https://invoice.stripe.com/i/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0IzM2dLNllhYVlUZWVrM1BRc2tJN0Y5Y1lsVnNWLDEwNzUzMDY3MQ02008VILThR9?s=ap",\n  "invoice_pdf": "https://pay.stripe.com/invoice/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0IzM2dLNllhYVlUZWVrM1BRc2tJN0Y5Y1lsVnNWLDEwNzUzMDY3MQ02008VILThR9/pdf?s=ap",\n  "issuer": {\n    "type": "self"\n  },\n  "last_finalization_error": null,\n  "latest_revision": null,\n  "lines": {\n    "object": "list",\n    "data": [\n      {\n        "id": "il_1PLmhNLDzFR9kcMzxiRJRIoR",\n        "object": "line_item",\n        "amount": 300000,\n        "amount_excluding_tax": 300000,\n        "currency": "dzd",\n        "description": "1  Advanced (at 3,000.00 . / month)",\n        "discount_amounts": [],\n        "discountable": true,\n        "discounts": [],\n        "invoice": "in_1PLmhNLDzFR9kcMz59vSuZpW",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719668268,\n          "start": 1716989868\n        },\n        "plan": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 300000,\n          "amount_decimal": "300000",\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 300000,\n          "unit_amount_decimal": "300000"\n        },\n        "proration": false,\n        "proration_details": {\n          "credited_items": null\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhMLDzFR9kcMzDVqNx7S2",\n        "subscription_item": "si_QCB3S5xVHD2OBZ",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "subscription",\n        "unit_amount_excluding_tax": "300000"\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/invoices/in_1PLmhNLDzFR9kcMz59vSuZpW/lines"\n  },\n  "livemode": false,\n  "metadata": {},\n  "next_payment_attempt": null,\n  "number": "20099C06-0299",\n  "on_behalf_of": null,\n  "paid": true,\n  "paid_out_of_band": false,\n  "payment_intent": "pi_3PLmhNLDzFR9kcMz1bd2qufc",\n  "payment_settings": {\n    "default_mandate": null,\n    "payment_method_options": null,\n    "payment_method_types": null\n  },\n  "period_end": 1716989868,\n  "period_start": 1716989868,\n  "post_payment_credit_notes_amount": 0,\n  "pre_payment_credit_notes_amount": 0,\n  "quote": null,\n  "receipt_number": null,\n  "rendering": null,\n  "rendering_options": null,\n  "shipping_cost": null,\n  "shipping_details": null,\n  "starting_balance": 0,\n  "statement_descriptor": null,\n  "status": "paid",\n  "status_transitions": {\n    "finalized_at": 1716989869,\n    "marked_uncollectible_at": null,\n    "paid_at": 1716989868,\n    "voided_at": null\n  },\n  "subscription": "sub_1PLmhMLDzFR9kcMzDVqNx7S2",\n  "subscription_details": {\n    "metadata": {}\n  },\n  "subtotal": 300000,\n  "subtotal_excluding_tax": 300000,\n  "tax": null,\n  "test_clock": null,\n  "total": 300000,\n  "total_discount_amounts": [],\n  "total_excluding_tax": 300000,\n  "total_tax_amounts": [],\n  "transfer_data": null,\n  "webhooks_delivered_at": 1716989869\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_EkgMjiQod9Cqs9 message='Dashboard link for request'
https://api.stripe.com:443 "POST /v1/subscriptions HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions response_code=200
body='{\n  "id": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716989871,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719668271,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716989871,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716989871,\n  "currency": "dzd",\n  "current_period_end": 1719668271,\n  "current_period_start": 1716989871,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PLmhLLDzFR9kcMzM78L97KK",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_QCB3uXYZFbCPY0",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716989872,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 300000,\n          "amount_decimal": "300000",\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 300000,\n          "unit_amount_decimal": "300000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PLmhPLDzFR9kcMzmRdSGYLS"\n  },\n  "latest_invoice": "in_1PLmhPLDzFR9kcMzncXTcEml",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 300000,\n    "amount_decimal": "300000",\n    "billing_scheme": "per_unit",\n    "created": 1713864756,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PycygJwigJVlfW",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716989871,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_c7O7Kn0xwsyafs message='Dashboard link for request'
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/invoices/in_1PLmhPLDzFR9kcMzncXTcEml
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/invoices/in_1PLmhPLDzFR9kcMzncXTcEml HTTP/1.1" 200 5512
message='Stripe API response' path=https://api.stripe.com/v1/invoices/in_1PLmhPLDzFR9kcMzncXTcEml response_code=200
body='{\n  "id": "in_1PLmhPLDzFR9kcMzncXTcEml",\n  "object": "invoice",\n  "account_country": "FR",\n  "account_name": "EasyLaw",\n  "account_tax_ids": null,\n  "amount_due": 300000,\n  "amount_paid": 300000,\n  "amount_remaining": 0,\n  "amount_shipping": 0,\n  "application": null,\n  "application_fee_amount": null,\n  "attempt_count": 1,\n  "attempted": true,\n  "auto_advance": false,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "status": null\n  },\n  "billing_reason": "subscription_create",\n  "charge": "ch_3PLmhPLDzFR9kcMz02kD6FVo",\n  "collection_method": "charge_automatically",\n  "created": 1716989871,\n  "currency": "dzd",\n  "custom_fields": null,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "customer_address": null,\n  "customer_email": "zaki@zaki.com",\n  "customer_name": "zaki-h",\n  "customer_phone": null,\n  "customer_shipping": null,\n  "customer_tax_exempt": "none",\n  "customer_tax_ids": [],\n  "default_payment_method": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "due_date": null,\n  "effective_at": 1716989871,\n  "ending_balance": 0,\n  "footer": null,\n  "from_invoice": null,\n  "hosted_invoice_url": "https://invoice.stripe.com/i/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0IzZm40YTJOdWpsQ3RvZ2UzeWdhMlR5N0xqblZTLDEwNzUzMDY3Mw0200j7hk0PUB?s=ap",\n  "invoice_pdf": "https://pay.stripe.com/invoice/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0IzZm40YTJOdWpsQ3RvZ2UzeWdhMlR5N0xqblZTLDEwNzUzMDY3Mw0200j7hk0PUB/pdf?s=ap",\n  "issuer": {\n    "type": "self"\n  },\n  "last_finalization_error": null,\n  "latest_revision": null,\n  "lines": {\n    "object": "list",\n    "data": [\n      {\n        "id": "il_1PLmhPLDzFR9kcMzfGOT41Ac",\n        "object": "line_item",\n        "amount": 300000,\n        "amount_excluding_tax": 300000,\n        "currency": "dzd",\n        "description": "1  Advanced (at 3,000.00 . / month)",\n        "discount_amounts": [],\n        "discountable": true,\n        "discounts": [],\n        "invoice": "in_1PLmhPLDzFR9kcMzncXTcEml",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719668271,\n          "start": 1716989871\n        },\n        "plan": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 300000,\n          "amount_decimal": "300000",\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 300000,\n          "unit_amount_decimal": "300000"\n        },\n        "proration": false,\n        "proration_details": {\n          "credited_items": null\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "subscription_item": "si_QCB3uXYZFbCPY0",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "subscription",\n        "unit_amount_excluding_tax": "300000"\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/invoices/in_1PLmhPLDzFR9kcMzncXTcEml/lines"\n  },\n  "livemode": false,\n  "metadata": {},\n  "next_payment_attempt": null,\n  "number": "20099C06-0300",\n  "on_behalf_of": null,\n  "paid": true,\n  "paid_out_of_band": false,\n  "payment_intent": "pi_3PLmhPLDzFR9kcMz0P8yZRZ5",\n  "payment_settings": {\n    "default_mandate": null,\n    "payment_method_options": null,\n    "payment_method_types": null\n  },\n  "period_end": 1716989871,\n  "period_start": 1716989871,\n  "post_payment_credit_notes_amount": 0,\n  "pre_payment_credit_notes_amount": 0,\n  "quote": null,\n  "receipt_number": null,\n  "rendering": null,\n  "rendering_options": null,\n  "shipping_cost": null,\n  "shipping_details": null,\n  "starting_balance": 0,\n  "statement_descriptor": null,\n  "status": "paid",\n  "status_transitions": {\n    "finalized_at": 1716989871,\n    "marked_uncollectible_at": null,\n    "paid_at": 1716989871,\n    "voided_at": null\n  },\n  "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "subscription_details": {\n    "metadata": {}\n  },\n  "subtotal": 300000,\n  "subtotal_excluding_tax": 300000,\n  "tax": null,\n  "test_clock": null,\n  "total": 300000,\n  "total_discount_amounts": [],\n  "total_excluding_tax": 300000,\n  "total_tax_amounts": [],\n  "transfer_data": null,\n  "webhooks_delivered_at": 1716989871\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_X1BuOf84oD6vya message='Dashboard link for request'
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /favicon.ico
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is now subscribed 
User 5   this user is now subscribed 
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods
api_version=2023-10-16 message='Post details' post_data=type=card&card[token]=tok_1PLnYBLDzFR9kcMzEPTTaP8S
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/payment_methods HTTP/1.1" 200 996
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods response_code=200
body='{\n  "id": "pm_1PLnYCLDzFR9kcMz94C1wpOk",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "unchecked"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716993144,\n  "customer": null,\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_HxSJw4jzMALIE7 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods/pm_1PLnYCLDzFR9kcMz94C1wpOk/attach
api_version=2023-10-16 message='Post details' post_data=customer=cus_Q9NeHWDcIy5jTq
https://api.stripe.com:443 "POST /v1/payment_methods/pm_1PLnYCLDzFR9kcMz94C1wpOk/attach HTTP/1.1" 200 1007
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods/pm_1PLnYCLDzFR9kcMz94C1wpOk/attach response_code=200
body='{\n  "id": "pm_1PLnYCLDzFR9kcMz94C1wpOk",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "pass"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716993144,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_pce0L9ORR4DvVw message='Dashboard link for request'
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS response_code=200
body='{\n  "id": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716989871,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719668271,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716989871,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716989871,\n  "currency": "dzd",\n  "current_period_end": 1719668271,\n  "current_period_start": 1716989871,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PLmhLLDzFR9kcMzM78L97KK",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_QCB3uXYZFbCPY0",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716989872,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 300000,\n          "amount_decimal": "300000",\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 300000,\n          "unit_amount_decimal": "300000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PLmhPLDzFR9kcMzmRdSGYLS"\n  },\n  "latest_invoice": "in_1PLmhPLDzFR9kcMzncXTcEml",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 300000,\n    "amount_decimal": "300000",\n    "billing_scheme": "per_unit",\n    "created": 1713864756,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PycygJwigJVlfW",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716989871,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_w2NMo9iKDPVFok message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS
api_version=2023-10-16 message='Post details' post_data=default_payment_method=pm_1PLnYCLDzFR9kcMz94C1wpOk&items[0][id]=si_QCB3uXYZFbCPY0&items[0][price]=price_1PJ8uDLDzFR9kcMzvA9z5DIm&billing_cycle_anchor=now
https://api.stripe.com:443 "POST /v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS response_code=200
body='{\n  "id": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716993146,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719671546,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716993146,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716989871,\n  "currency": "dzd",\n  "current_period_end": 1719671546,\n  "current_period_start": 1716993146,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PLnYCLDzFR9kcMz94C1wpOk",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_QCB3uXYZFbCPY0",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716989872,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1716360249,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716360249,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PLmhPLDzFR9kcMzmRdSGYLS"\n  },\n  "latest_invoice": "in_1PLnYELDzFR9kcMzNK6Z0uNr",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 200000,\n    "amount_decimal": "200000",\n    "billing_scheme": "per_unit",\n    "created": 1716360249,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PoJckyovwroHYV",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716989871,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_eI1o7eOWoimI5e message='Dashboard link for request'
User 5  is upgraded
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/invoices/in_1PLnYELDzFR9kcMzNK6Z0uNr
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/invoices/in_1PLnYELDzFR9kcMzNK6Z0uNr HTTP/1.1" 200 8140
message='Stripe API response' path=https://api.stripe.com/v1/invoices/in_1PLnYELDzFR9kcMzNK6Z0uNr response_code=200
body='{\n  "id": "in_1PLnYELDzFR9kcMzNK6Z0uNr",\n  "object": "invoice",\n  "account_country": "FR",\n  "account_name": "EasyLaw",\n  "account_tax_ids": null,\n  "amount_due": 0,\n  "amount_paid": 0,\n  "amount_remaining": 0,\n  "amount_shipping": 0,\n  "application": null,\n  "application_fee_amount": null,\n  "attempt_count": 0,\n  "attempted": true,\n  "auto_advance": false,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "status": null\n  },\n  "billing_reason": "subscription_update",\n  "charge": null,\n  "collection_method": "charge_automatically",\n  "created": 1716993146,\n  "currency": "dzd",\n  "custom_fields": null,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "customer_address": null,\n  "customer_email": "zaki@zaki.com",\n  "customer_name": "zaki-h",\n  "customer_phone": null,\n  "customer_shipping": null,\n  "customer_tax_exempt": "none",\n  "customer_tax_ids": [],\n  "default_payment_method": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "due_date": null,\n  "effective_at": 1716993146,\n  "ending_balance": -99633,\n  "footer": null,\n  "from_invoice": null,\n  "hosted_invoice_url": "https://invoice.stripe.com/i/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0J3dlpqbnBHeGduSWs5bFFXVmJETnkzeVBST2dnLDEwNzUzMzk0OA02009hyF4AqL?s=ap",\n  "invoice_pdf": "https://pay.stripe.com/invoice/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0J3dlpqbnBHeGduSWs5bFFXVmJETnkzeVBST2dnLDEwNzUzMzk0OA02009hyF4AqL/pdf?s=ap",\n  "issuer": {\n    "type": "self"\n  },\n  "last_finalization_error": null,\n  "latest_revision": null,\n  "lines": {\n    "object": "list",\n    "data": [\n      {\n        "id": "il_1PLnYELDzFR9kcMz2hnDFd6Y",\n        "object": "line_item",\n        "amount": -299633,\n        "amount_excluding_tax": -299633,\n        "currency": "dzd",\n        "description": "Unused time on Advanced after 29 May 2024",\n        "discount_amounts": [],\n        "discountable": false,\n        "discounts": [],\n        "invoice": "in_1PLnYELDzFR9kcMzNK6Z0uNr",\n        "invoice_item": "ii_1PLnYELDzFR9kcMzYwIl4MEl",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719668271,\n          "start": 1716993146\n        },\n        "plan": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 300000,\n          "amount_decimal": "300000",\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 300000,\n          "unit_amount_decimal": "300000"\n        },\n        "proration": true,\n        "proration_details": {\n          "credited_items": {\n            "invoice": "in_1PLmhPLDzFR9kcMzncXTcEml",\n            "invoice_line_items": [\n              "il_1PLmhPLDzFR9kcMzfGOT41Ac"\n            ]\n          }\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "subscription_item": "si_QCB3uXYZFbCPY0",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "invoiceitem",\n        "unit_amount_excluding_tax": "-299633"\n      },\n      {\n        "id": "il_1PLnYELDzFR9kcMzIyMFqclt",\n        "object": "line_item",\n        "amount": 200000,\n        "amount_excluding_tax": 200000,\n        "currency": "dzd",\n        "description": "1  Basic (at 2,000.00 . / month)",\n        "discount_amounts": [],\n        "discountable": true,\n        "discounts": [],\n        "invoice": "in_1PLnYELDzFR9kcMzNK6Z0uNr",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719671546,\n          "start": 1716993146\n        },\n        "plan": {\n          "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1716360249,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716360249,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "proration": false,\n        "proration_details": {\n          "credited_items": null\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "subscription_item": "si_QCB3uXYZFbCPY0",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "subscription",\n        "unit_amount_excluding_tax": "200000"\n      }\n    ],\n    "has_more": false,\n    "total_count": 2,\n    "url": "/v1/invoices/in_1PLnYELDzFR9kcMzNK6Z0uNr/lines"\n  },\n  "livemode": false,\n  "metadata": {},\n  "next_payment_attempt": null,\n  "number": "20099C06-0301",\n  "on_behalf_of": null,\n  "paid": true,\n  "paid_out_of_band": false,\n  "payment_intent": null,\n  "payment_settings": {\n    "default_mandate": null,\n    "payment_method_options": null,\n    "payment_method_types": null\n  },\n  "period_end": 1716993146,\n  "period_start": 1716993146,\n  "post_payment_credit_notes_amount": 0,\n  "pre_payment_credit_notes_amount": 0,\n  "quote": null,\n  "receipt_number": null,\n  "rendering": null,\n  "rendering_options": null,\n  "shipping_cost": null,\n  "shipping_details": null,\n  "starting_balance": 0,\n  "statement_descriptor": null,\n  "status": "paid",\n  "status_transitions": {\n    "finalized_at": 1716993146,\n    "marked_uncollectible_at": null,\n    "paid_at": 1716993146,\n    "voided_at": null\n  },\n  "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "subscription_details": {\n    "metadata": {}\n  },\n  "subtotal": -99633,\n  "subtotal_excluding_tax": -99633,\n  "tax": null,\n  "test_clock": null,\n  "total": -99633,\n  "total_discount_amounts": [],\n  "total_excluding_tax": -99633,\n  "total_tax_amounts": [],\n  "transfer_data": null,\n  "webhooks_delivered_at": 1716993146\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_G9LzSylgPxKMoT message='Dashboard link for request'
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is already subscribed 
Conflict: /payment/subscribe
User 5   this user is now subscribed 
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods
api_version=2023-10-16 message='Post details' post_data=type=card&card[token]=tok_1PLnZhLDzFR9kcMzFgKh6QpT
Resetting dropped connection: api.stripe.com
https://api.stripe.com:443 "POST /v1/payment_methods HTTP/1.1" 200 996
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods response_code=200
body='{\n  "id": "pm_1PLnZiLDzFR9kcMzdOcy4WAY",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "unchecked"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716993238,\n  "customer": null,\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_sHwJacnoPwmve9 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods/pm_1PLnZiLDzFR9kcMzdOcy4WAY/attach
api_version=2023-10-16 message='Post details' post_data=customer=cus_Q9NeHWDcIy5jTq
https://api.stripe.com:443 "POST /v1/payment_methods/pm_1PLnZiLDzFR9kcMzdOcy4WAY/attach HTTP/1.1" 200 1007
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods/pm_1PLnZiLDzFR9kcMzdOcy4WAY/attach response_code=200
body='{\n  "id": "pm_1PLnZiLDzFR9kcMzdOcy4WAY",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "pass"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716993238,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_YaZNYAdyhcgS9b message='Dashboard link for request'
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS response_code=200
body='{\n  "id": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716993146,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719671546,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716993146,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716989871,\n  "currency": "dzd",\n  "current_period_end": 1719671546,\n  "current_period_start": 1716993146,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PLnYCLDzFR9kcMz94C1wpOk",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_QCB3uXYZFbCPY0",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716989872,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1716360249,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716360249,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PLmhPLDzFR9kcMzmRdSGYLS"\n  },\n  "latest_invoice": "in_1PLnYELDzFR9kcMzNK6Z0uNr",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 200000,\n    "amount_decimal": "200000",\n    "billing_scheme": "per_unit",\n    "created": 1716360249,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PoJckyovwroHYV",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716989871,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_TnA5mnUx1nrzZg message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS
api_version=2023-10-16 message='Post details' post_data=default_payment_method=pm_1PLnZiLDzFR9kcMzdOcy4WAY&items[0][id]=si_QCB3uXYZFbCPY0&items[0][price]=price_1PJ8UyLDzFR9kcMzS7FLUNyL&billing_cycle_anchor=now
https://api.stripe.com:443 "POST /v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS response_code=200
body='{\n  "id": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716993239,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719671639,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716993239,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716989871,\n  "currency": "dzd",\n  "current_period_end": 1719671639,\n  "current_period_start": 1716993239,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PLnZiLDzFR9kcMzdOcy4WAY",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_QCB3uXYZFbCPY0",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716989872,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 600000,\n          "amount_decimal": "600000",\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 600000,\n          "unit_amount_decimal": "600000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PLmhPLDzFR9kcMzmRdSGYLS"\n  },\n  "latest_invoice": "in_1PLnZjLDzFR9kcMzBuLmQm60",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 600000,\n    "amount_decimal": "600000",\n    "billing_scheme": "per_unit",\n    "created": 1716358684,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PoJe6tdXdgU9om",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716989871,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_xabxtRCT28ossN message='Dashboard link for request'
User 5  is upgraded
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/invoices/in_1PLnZjLDzFR9kcMzBuLmQm60
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/invoices/in_1PLnZjLDzFR9kcMzBuLmQm60 HTTP/1.1" 200 8196
message='Stripe API response' path=https://api.stripe.com/v1/invoices/in_1PLnZjLDzFR9kcMzBuLmQm60 response_code=200
body='{\n  "id": "in_1PLnZjLDzFR9kcMzBuLmQm60",\n  "object": "invoice",\n  "account_country": "FR",\n  "account_name": "EasyLaw",\n  "account_tax_ids": null,\n  "amount_due": 300374,\n  "amount_paid": 300374,\n  "amount_remaining": 0,\n  "amount_shipping": 0,\n  "application": null,\n  "application_fee_amount": null,\n  "attempt_count": 1,\n  "attempted": true,\n  "auto_advance": false,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "status": null\n  },\n  "billing_reason": "subscription_update",\n  "charge": "ch_3PLnZkLDzFR9kcMz0OUqxWP9",\n  "collection_method": "charge_automatically",\n  "created": 1716993239,\n  "currency": "dzd",\n  "custom_fields": null,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "customer_address": null,\n  "customer_email": "zaki@zaki.com",\n  "customer_name": "zaki-h",\n  "customer_phone": null,\n  "customer_shipping": null,\n  "customer_tax_exempt": "none",\n  "customer_tax_ids": [],\n  "default_payment_method": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "due_date": null,\n  "effective_at": 1716993239,\n  "ending_balance": 0,\n  "footer": null,\n  "from_invoice": null,\n  "hosted_invoice_url": "https://invoice.stripe.com/i/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0J4TjU3eEVPMjBhOU1Uc2ttZUtaWk8yOG9qbVY0LDEwNzUzNDA0Mg0200jF7UThNc?s=ap",\n  "invoice_pdf": "https://pay.stripe.com/invoice/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0J4TjU3eEVPMjBhOU1Uc2ttZUtaWk8yOG9qbVY0LDEwNzUzNDA0Mg0200jF7UThNc/pdf?s=ap",\n  "issuer": {\n    "type": "self"\n  },\n  "last_finalization_error": null,\n  "latest_revision": null,\n  "lines": {\n    "object": "list",\n    "data": [\n      {\n        "id": "il_1PLnZjLDzFR9kcMzy6Nhyb01",\n        "object": "line_item",\n        "amount": -199993,\n        "amount_excluding_tax": -199993,\n        "currency": "dzd",\n        "description": "Unused time on Basic after 29 May 2024",\n        "discount_amounts": [],\n        "discountable": false,\n        "discounts": [],\n        "invoice": "in_1PLnZjLDzFR9kcMzBuLmQm60",\n        "invoice_item": "ii_1PLnZjLDzFR9kcMz3mkp5hhS",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719671546,\n          "start": 1716993239\n        },\n        "plan": {\n          "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 200000,\n          "amount_decimal": "200000",\n          "billing_scheme": "per_unit",\n          "created": 1716360249,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8uDLDzFR9kcMzvA9z5DIm",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716360249,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJckyovwroHYV",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 200000,\n          "unit_amount_decimal": "200000"\n        },\n        "proration": true,\n        "proration_details": {\n          "credited_items": {\n            "invoice": "in_1PLnYELDzFR9kcMzNK6Z0uNr",\n            "invoice_line_items": [\n              "il_1PLnYELDzFR9kcMzIyMFqclt"\n            ]\n          }\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "subscription_item": "si_QCB3uXYZFbCPY0",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "invoiceitem",\n        "unit_amount_excluding_tax": "-199993"\n      },\n      {\n        "id": "il_1PLnZjLDzFR9kcMzrNcnVN3w",\n        "object": "line_item",\n        "amount": 600000,\n        "amount_excluding_tax": 600000,\n        "currency": "dzd",\n        "description": "1  Full (at 6,000.00 . / month)",\n        "discount_amounts": [],\n        "discountable": true,\n        "discounts": [],\n        "invoice": "in_1PLnZjLDzFR9kcMzBuLmQm60",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719671639,\n          "start": 1716993239\n        },\n        "plan": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 600000,\n          "amount_decimal": "600000",\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 600000,\n          "unit_amount_decimal": "600000"\n        },\n        "proration": false,\n        "proration_details": {\n          "credited_items": null\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "subscription_item": "si_QCB3uXYZFbCPY0",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "subscription",\n        "unit_amount_excluding_tax": "600000"\n      }\n    ],\n    "has_more": false,\n    "total_count": 2,\n    "url": "/v1/invoices/in_1PLnZjLDzFR9kcMzBuLmQm60/lines"\n  },\n  "livemode": false,\n  "metadata": {},\n  "next_payment_attempt": null,\n  "number": "20099C06-0302",\n  "on_behalf_of": null,\n  "paid": true,\n  "paid_out_of_band": false,\n  "payment_intent": "pi_3PLnZkLDzFR9kcMz0nQslNiY",\n  "payment_settings": {\n    "default_mandate": null,\n    "payment_method_options": null,\n    "payment_method_types": null\n  },\n  "period_end": 1716993239,\n  "period_start": 1716993239,\n  "post_payment_credit_notes_amount": 0,\n  "pre_payment_credit_notes_amount": 0,\n  "quote": null,\n  "receipt_number": null,\n  "rendering": null,\n  "rendering_options": null,\n  "shipping_cost": null,\n  "shipping_details": null,\n  "starting_balance": -99633,\n  "statement_descriptor": null,\n  "status": "paid",\n  "status_transitions": {\n    "finalized_at": 1716993239,\n    "marked_uncollectible_at": null,\n    "paid_at": 1716993239,\n    "voided_at": null\n  },\n  "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "subscription_details": {\n    "metadata": {}\n  },\n  "subtotal": 400007,\n  "subtotal_excluding_tax": 400007,\n  "tax": null,\n  "test_clock": null,\n  "total": 400007,\n  "total_discount_amounts": [],\n  "total_excluding_tax": 400007,\n  "total_tax_amounts": [],\n  "transfer_data": null,\n  "webhooks_delivered_at": 1716993239\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_9cHSvGTpR08tVG message='Dashboard link for request'
User 5   this user is now subscribed 
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods
api_version=2023-10-16 message='Post details' post_data=type=card&card[token]=tok_1PLnasLDzFR9kcMzg9iGbvSY
https://api.stripe.com:443 "POST /v1/payment_methods HTTP/1.1" 200 996
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods response_code=200
body='{\n  "id": "pm_1PLnasLDzFR9kcMzUxcG84ke",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "unchecked"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716993310,\n  "customer": null,\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_AwsDQoSH36jNFD message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods/pm_1PLnasLDzFR9kcMzUxcG84ke/attach
api_version=2023-10-16 message='Post details' post_data=customer=cus_Q9NeHWDcIy5jTq
https://api.stripe.com:443 "POST /v1/payment_methods/pm_1PLnasLDzFR9kcMzUxcG84ke/attach HTTP/1.1" 200 1007
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods/pm_1PLnasLDzFR9kcMzUxcG84ke/attach response_code=200
body='{\n  "id": "pm_1PLnasLDzFR9kcMzUxcG84ke",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": null,\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "pass"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 10,\n    "exp_year": 2024,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1716993310,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_aXEkFMK2H2uBfO message='Dashboard link for request'
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS response_code=200
body='{\n  "id": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716993239,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719671639,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716993239,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716989871,\n  "currency": "dzd",\n  "current_period_end": 1719671639,\n  "current_period_start": 1716993239,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PLnZiLDzFR9kcMzdOcy4WAY",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_QCB3uXYZFbCPY0",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716989872,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 600000,\n          "amount_decimal": "600000",\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 600000,\n          "unit_amount_decimal": "600000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PLmhPLDzFR9kcMzmRdSGYLS"\n  },\n  "latest_invoice": "in_1PLnZjLDzFR9kcMzBuLmQm60",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 600000,\n    "amount_decimal": "600000",\n    "billing_scheme": "per_unit",\n    "created": 1716358684,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PoJe6tdXdgU9om",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716989871,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_yAkkkiO1iHg7xq message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS
api_version=2023-10-16 message='Post details' post_data=default_payment_method=pm_1PLnasLDzFR9kcMzUxcG84ke&items[0][id]=si_QCB3uXYZFbCPY0&items[0][price]=price_1P8fiKLDzFR9kcMzVpfBEjvL&billing_cycle_anchor=now
https://api.stripe.com:443 "POST /v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions/sub_1PLmhPLDzFR9kcMzmRdSGYLS response_code=200
body='{\n  "id": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1716993312,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1719671712,\n  "cancel_at_period_end": true,\n  "canceled_at": 1716993312,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1716989871,\n  "currency": "dzd",\n  "current_period_end": 1719671712,\n  "current_period_start": 1716993312,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PLnasLDzFR9kcMzUxcG84ke",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_QCB3uXYZFbCPY0",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1716989872,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 300000,\n          "amount_decimal": "300000",\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 300000,\n          "unit_amount_decimal": "300000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PLmhPLDzFR9kcMzmRdSGYLS"\n  },\n  "latest_invoice": "in_1PLnauLDzFR9kcMz0nH4kkt7",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 300000,\n    "amount_decimal": "300000",\n    "billing_scheme": "per_unit",\n    "created": 1713864756,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PycygJwigJVlfW",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1716989871,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_8Gmfyyzu9whkxU message='Dashboard link for request'
User 5  is upgraded
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/invoices/in_1PLnauLDzFR9kcMz0nH4kkt7
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/invoices/in_1PLnauLDzFR9kcMz0nH4kkt7 HTTP/1.1" 200 8144
message='Stripe API response' path=https://api.stripe.com/v1/invoices/in_1PLnauLDzFR9kcMz0nH4kkt7 response_code=200
body='{\n  "id": "in_1PLnauLDzFR9kcMz0nH4kkt7",\n  "object": "invoice",\n  "account_country": "FR",\n  "account_name": "EasyLaw",\n  "account_tax_ids": null,\n  "amount_due": 0,\n  "amount_paid": 0,\n  "amount_remaining": 0,\n  "amount_shipping": 0,\n  "application": null,\n  "application_fee_amount": null,\n  "attempt_count": 0,\n  "attempted": true,\n  "auto_advance": false,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "status": null\n  },\n  "billing_reason": "subscription_update",\n  "charge": null,\n  "collection_method": "charge_automatically",\n  "created": 1716993312,\n  "currency": "dzd",\n  "custom_fields": null,\n  "customer": "cus_Q9NeHWDcIy5jTq",\n  "customer_address": null,\n  "customer_email": "zaki@zaki.com",\n  "customer_name": "zaki-h",\n  "customer_phone": null,\n  "customer_shipping": null,\n  "customer_tax_exempt": "none",\n  "customer_tax_ids": [],\n  "default_payment_method": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "due_date": null,\n  "effective_at": 1716993312,\n  "ending_balance": -299984,\n  "footer": null,\n  "from_invoice": null,\n  "hosted_invoice_url": "https://invoice.stripe.com/i/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0J5NnBHOWNzRkY3S21sS0tTc1B6Nmt1SnFpcHRDLDEwNzUzNDExNA02002elLxs3Q?s=ap",\n  "invoice_pdf": "https://pay.stripe.com/invoice/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RQ0J5NnBHOWNzRkY3S21sS0tTc1B6Nmt1SnFpcHRDLDEwNzUzNDExNA02002elLxs3Q/pdf?s=ap",\n  "issuer": {\n    "type": "self"\n  },\n  "last_finalization_error": null,\n  "latest_revision": null,\n  "lines": {\n    "object": "list",\n    "data": [\n      {\n        "id": "il_1PLnauLDzFR9kcMzzB5hFnvA",\n        "object": "line_item",\n        "amount": -599984,\n        "amount_excluding_tax": -599984,\n        "currency": "dzd",\n        "description": "Unused time on Full after 29 May 2024",\n        "discount_amounts": [],\n        "discountable": false,\n        "discounts": [],\n        "invoice": "in_1PLnauLDzFR9kcMz0nH4kkt7",\n        "invoice_item": "ii_1PLnauLDzFR9kcMzTpvLaX4h",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719671639,\n          "start": 1716993312\n        },\n        "plan": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 600000,\n          "amount_decimal": "600000",\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 600000,\n          "unit_amount_decimal": "600000"\n        },\n        "proration": true,\n        "proration_details": {\n          "credited_items": {\n            "invoice": "in_1PLnZjLDzFR9kcMzBuLmQm60",\n            "invoice_line_items": [\n              "il_1PLnZjLDzFR9kcMzrNcnVN3w"\n            ]\n          }\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "subscription_item": "si_QCB3uXYZFbCPY0",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "invoiceitem",\n        "unit_amount_excluding_tax": "-599984"\n      },\n      {\n        "id": "il_1PLnauLDzFR9kcMzqBzg5w5W",\n        "object": "line_item",\n        "amount": 300000,\n        "amount_excluding_tax": 300000,\n        "currency": "dzd",\n        "description": "1  Advanced (at 3,000.00 . / month)",\n        "discount_amounts": [],\n        "discountable": true,\n        "discounts": [],\n        "invoice": "in_1PLnauLDzFR9kcMz0nH4kkt7",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1719671712,\n          "start": 1716993312\n        },\n        "plan": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 300000,\n          "amount_decimal": "300000",\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1P8fiKLDzFR9kcMzVpfBEjvL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1713864756,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PycygJwigJVlfW",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 300000,\n          "unit_amount_decimal": "300000"\n        },\n        "proration": false,\n        "proration_details": {\n          "credited_items": null\n        },\n        "quantity": 1,\n        "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n        "subscription_item": "si_QCB3uXYZFbCPY0",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "subscription",\n        "unit_amount_excluding_tax": "300000"\n      }\n    ],\n    "has_more": false,\n    "total_count": 2,\n    "url": "/v1/invoices/in_1PLnauLDzFR9kcMz0nH4kkt7/lines"\n  },\n  "livemode": false,\n  "metadata": {},\n  "next_payment_attempt": null,\n  "number": "20099C06-0303",\n  "on_behalf_of": null,\n  "paid": true,\n  "paid_out_of_band": false,\n  "payment_intent": null,\n  "payment_settings": {\n    "default_mandate": null,\n    "payment_method_options": null,\n    "payment_method_types": null\n  },\n  "period_end": 1716993312,\n  "period_start": 1716993312,\n  "post_payment_credit_notes_amount": 0,\n  "pre_payment_credit_notes_amount": 0,\n  "quote": null,\n  "receipt_number": null,\n  "rendering": null,\n  "rendering_options": null,\n  "shipping_cost": null,\n  "shipping_details": null,\n  "starting_balance": 0,\n  "statement_descriptor": null,\n  "status": "paid",\n  "status_transitions": {\n    "finalized_at": 1716993312,\n    "marked_uncollectible_at": null,\n    "paid_at": 1716993312,\n    "voided_at": null\n  },\n  "subscription": "sub_1PLmhPLDzFR9kcMzmRdSGYLS",\n  "subscription_details": {\n    "metadata": {}\n  },\n  "subtotal": -299984,\n  "subtotal_excluding_tax": -299984,\n  "tax": null,\n  "test_clock": null,\n  "total": -299984,\n  "total_discount_amounts": [],\n  "total_excluding_tax": -299984,\n  "total_tax_amounts": [],\n  "transfer_data": null,\n  "webhooks_delivered_at": 1716993312\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_xXyVzYEQPQX2dr message='Dashboard link for request'
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
Invalid HTTP_HOST header: '4bb4-105-235-133-232.ngrok-free.app'. You may need to add '4bb4-105-235-133-232.ngrok-free.app' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: '4bb4-105-235-133-232.ngrok-free.app'. You may need to add '4bb4-105-235-133-232.ngrok-free.app' to ALLOWED_HOSTS.
Bad Request: /payment/service
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
User zaki-h      signed up as a client
Watching for file changes with StatReloader
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /data_collection/types_sources
Bad Request: /data_collection/distinct_years
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /payment/service
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /payment/service
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "/home/zaki/.local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/utils/deprecation.py", line 133, in __call__
    response = self.process_request(request)
  File "/home/zaki/.local/lib/python3.10/site-packages/django/middleware/common.py", line 48, in process_request
    host = request.get_host()
  File "/home/zaki/.local/lib/python3.10/site-packages/django/http/request.py", line 151, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'localhost:8888'. You may need to add 'localhost' to ALLOWED_HOSTS.
Bad Request: /data_collection/distinct_years
Bad Request: /data_collection/types_sources
/home/zaki/ESI/Project/EasyLaw/back/back/settings.py changed, reloading.
Watching for file changes with StatReloader
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
Not Found: /
Not Found: /favicon.ico
Not Found: /favicon.ico
Bad Request: /user/login
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
Bad Request: /user/login
Bad Request: /user/login
Bad Request: /user/login
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
get All users Info 
User h-zaki client login
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
get All users Info 
User h-zaki client login
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
Forbidden: /data_collection/index_page
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods
api_version=2023-10-16 message='Post details' post_data=type=card&card[token]=tok_1PQXN9LDzFR9kcMzDcrkN8K4
Starting new HTTPS connection (1): api.stripe.com:443
https://api.stripe.com:443 "POST /v1/payment_methods HTTP/1.1" 200 1009
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods response_code=200
body='{\n  "id": "pm_1PQXNALDzFR9kcMzXxX7oRJM",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": "Hamdane Zakaria",\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "unchecked"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 12,\n    "exp_year": 2032,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1718122596,\n  "customer": null,\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_5mk35hpzuReqj6 message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/payment_methods/pm_1PQXNALDzFR9kcMzXxX7oRJM/attach
api_version=2023-10-16 message='Post details' post_data=customer=cus_PyOaDIbLtgCLeJ
https://api.stripe.com:443 "POST /v1/payment_methods/pm_1PQXNALDzFR9kcMzXxX7oRJM/attach HTTP/1.1" 200 1020
message='Stripe API response' path=https://api.stripe.com/v1/payment_methods/pm_1PQXNALDzFR9kcMzXxX7oRJM/attach response_code=200
body='{\n  "id": "pm_1PQXNALDzFR9kcMzXxX7oRJM",\n  "object": "payment_method",\n  "allow_redisplay": "unspecified",\n  "billing_details": {\n    "address": {\n      "city": null,\n      "country": null,\n      "line1": null,\n      "line2": null,\n      "postal_code": null,\n      "state": null\n    },\n    "email": null,\n    "name": "Hamdane Zakaria",\n    "phone": null\n  },\n  "card": {\n    "brand": "visa",\n    "checks": {\n      "address_line1_check": null,\n      "address_postal_code_check": null,\n      "cvc_check": "pass"\n    },\n    "country": "US",\n    "display_brand": "visa",\n    "exp_month": 12,\n    "exp_year": 2032,\n    "fingerprint": "oj766pyYQtVc5O0C",\n    "funding": "credit",\n    "generated_from": null,\n    "last4": "4242",\n    "networks": {\n      "available": [\n        "visa"\n      ],\n      "preferred": null\n    },\n    "three_d_secure_usage": {\n      "supported": true\n    },\n    "wallet": null\n  },\n  "created": 1718122596,\n  "customer": "cus_PyOaDIbLtgCLeJ",\n  "livemode": false,\n  "metadata": {},\n  "type": "card"\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_3xEWWY4TqapSwo message='Dashboard link for request'
message='Request to Stripe api' method=post url=https://api.stripe.com/v1/subscriptions
api_version=2023-10-16 message='Post details' post_data=customer=cus_PyOaDIbLtgCLeJ&items[0][price]=price_1PJ8UyLDzFR9kcMzS7FLUNyL&default_payment_method=pm_1PQXNALDzFR9kcMzXxX7oRJM&cancel_at_period_end=True
https://api.stripe.com:443 "POST /v1/subscriptions HTTP/1.1" 200 4366
message='Stripe API response' path=https://api.stripe.com/v1/subscriptions response_code=200
body='{\n  "id": "sub_1PQXNBLDzFR9kcMzOoGWUY3y",\n  "object": "subscription",\n  "application": null,\n  "application_fee_percent": null,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null\n  },\n  "billing_cycle_anchor": 1718122597,\n  "billing_cycle_anchor_config": null,\n  "billing_thresholds": null,\n  "cancel_at": 1720714597,\n  "cancel_at_period_end": true,\n  "canceled_at": 1718122597,\n  "cancellation_details": {\n    "comment": null,\n    "feedback": null,\n    "reason": "cancellation_requested"\n  },\n  "collection_method": "charge_automatically",\n  "created": 1718122597,\n  "currency": "dzd",\n  "current_period_end": 1720714597,\n  "current_period_start": 1718122597,\n  "customer": "cus_PyOaDIbLtgCLeJ",\n  "days_until_due": null,\n  "default_payment_method": "pm_1PQXNALDzFR9kcMzXxX7oRJM",\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "ended_at": null,\n  "invoice_settings": {\n    "account_tax_ids": null,\n    "issuer": {\n      "type": "self"\n    }\n  },\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "si_QH5YOTlCbciNhO",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1718122597,\n        "discounts": [],\n        "metadata": {},\n        "plan": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 600000,\n          "amount_decimal": "600000",\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 600000,\n          "unit_amount_decimal": "600000"\n        },\n        "quantity": 1,\n        "subscription": "sub_1PQXNBLDzFR9kcMzOoGWUY3y",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=sub_1PQXNBLDzFR9kcMzOoGWUY3y"\n  },\n  "latest_invoice": "in_1PQXNBLDzFR9kcMzBrohVIk9",\n  "livemode": false,\n  "metadata": {},\n  "next_pending_invoice_item_invoice": null,\n  "on_behalf_of": null,\n  "pause_collection": null,\n  "payment_settings": {\n    "payment_method_options": null,\n    "payment_method_types": null,\n    "save_default_payment_method": "off"\n  },\n  "pending_invoice_item_interval": null,\n  "pending_setup_intent": null,\n  "pending_update": null,\n  "plan": {\n    "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n    "object": "plan",\n    "active": true,\n    "aggregate_usage": null,\n    "amount": 600000,\n    "amount_decimal": "600000",\n    "billing_scheme": "per_unit",\n    "created": 1716358684,\n    "currency": "dzd",\n    "interval": "month",\n    "interval_count": 1,\n    "livemode": false,\n    "metadata": {},\n    "meter": null,\n    "nickname": null,\n    "product": "prod_PoJe6tdXdgU9om",\n    "tiers_mode": null,\n    "transform_usage": null,\n    "trial_period_days": null,\n    "usage_type": "licensed"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start_date": 1718122597,\n  "status": "active",\n  "test_clock": null,\n  "transfer_data": null,\n  "trial_end": null,\n  "trial_settings": {\n    "end_behavior": {\n      "missing_payment_method": "create_invoice"\n    }\n  },\n  "trial_start": null\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_ehEoD6qeznJFkE message='Dashboard link for request'
message='Request to Stripe api' method=get url=https://api.stripe.com/v1/invoices/in_1PQXNBLDzFR9kcMzBrohVIk9
api_version=2023-10-16 message='Post details' post_data=
https://api.stripe.com:443 "GET /v1/invoices/in_1PQXNBLDzFR9kcMzBrohVIk9 HTTP/1.1" 200 5512
message='Stripe API response' path=https://api.stripe.com/v1/invoices/in_1PQXNBLDzFR9kcMzBrohVIk9 response_code=200
body='{\n  "id": "in_1PQXNBLDzFR9kcMzBrohVIk9",\n  "object": "invoice",\n  "account_country": "FR",\n  "account_name": "EasyLaw",\n  "account_tax_ids": null,\n  "amount_due": 600000,\n  "amount_paid": 600000,\n  "amount_remaining": 0,\n  "amount_shipping": 0,\n  "application": null,\n  "application_fee_amount": null,\n  "attempt_count": 1,\n  "attempted": true,\n  "auto_advance": false,\n  "automatic_tax": {\n    "enabled": false,\n    "liability": null,\n    "status": null\n  },\n  "billing_reason": "subscription_create",\n  "charge": "ch_3PQXNBLDzFR9kcMz0O8i8Rxr",\n  "collection_method": "charge_automatically",\n  "created": 1718122597,\n  "currency": "dzd",\n  "custom_fields": null,\n  "customer": "cus_PyOaDIbLtgCLeJ",\n  "customer_address": null,\n  "customer_email": "kz_hamdane@esi.dz",\n  "customer_name": "h-zaki",\n  "customer_phone": null,\n  "customer_shipping": null,\n  "customer_tax_exempt": "none",\n  "customer_tax_ids": [],\n  "default_payment_method": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "description": null,\n  "discount": null,\n  "discounts": [],\n  "due_date": null,\n  "effective_at": 1718122597,\n  "ending_balance": 0,\n  "footer": null,\n  "from_invoice": null,\n  "hosted_invoice_url": "https://invoice.stripe.com/i/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RSDVZSUlEWWFVc1luVjh0NzFBUENxZ0dCN2J0eW5ELDEwODY2MzQwMA0200rwRIhRMk?s=ap",\n  "invoice_pdf": "https://pay.stripe.com/invoice/acct_1OygXvLDzFR9kcMz/test_YWNjdF8xT3lnWHZMRHpGUjlrY016LF9RSDVZSUlEWWFVc1luVjh0NzFBUENxZ0dCN2J0eW5ELDEwODY2MzQwMA0200rwRIhRMk/pdf?s=ap",\n  "issuer": {\n    "type": "self"\n  },\n  "last_finalization_error": null,\n  "latest_revision": null,\n  "lines": {\n    "object": "list",\n    "data": [\n      {\n        "id": "il_1PQXNBLDzFR9kcMzgnP1YOOa",\n        "object": "line_item",\n        "amount": 600000,\n        "amount_excluding_tax": 600000,\n        "currency": "dzd",\n        "description": "1  Full (at 6,000.00 . / month)",\n        "discount_amounts": [],\n        "discountable": true,\n        "discounts": [],\n        "invoice": "in_1PQXNBLDzFR9kcMzBrohVIk9",\n        "livemode": false,\n        "metadata": {},\n        "period": {\n          "end": 1720714597,\n          "start": 1718122597\n        },\n        "plan": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "plan",\n          "active": true,\n          "aggregate_usage": null,\n          "amount": 600000,\n          "amount_decimal": "600000",\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "interval": "month",\n          "interval_count": 1,\n          "livemode": false,\n          "metadata": {},\n          "meter": null,\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "tiers_mode": null,\n          "transform_usage": null,\n          "trial_period_days": null,\n          "usage_type": "licensed"\n        },\n        "price": {\n          "id": "price_1PJ8UyLDzFR9kcMzS7FLUNyL",\n          "object": "price",\n          "active": true,\n          "billing_scheme": "per_unit",\n          "created": 1716358684,\n          "currency": "dzd",\n          "custom_unit_amount": null,\n          "livemode": false,\n          "lookup_key": null,\n          "metadata": {},\n          "nickname": null,\n          "product": "prod_PoJe6tdXdgU9om",\n          "recurring": {\n            "aggregate_usage": null,\n            "interval": "month",\n            "interval_count": 1,\n            "meter": null,\n            "trial_period_days": null,\n            "usage_type": "licensed"\n          },\n          "tax_behavior": "unspecified",\n          "tiers_mode": null,\n          "transform_quantity": null,\n          "type": "recurring",\n          "unit_amount": 600000,\n          "unit_amount_decimal": "600000"\n        },\n        "proration": false,\n        "proration_details": {\n          "credited_items": null\n        },\n        "quantity": 1,\n        "subscription": "sub_1PQXNBLDzFR9kcMzOoGWUY3y",\n        "subscription_item": "si_QH5YOTlCbciNhO",\n        "tax_amounts": [],\n        "tax_rates": [],\n        "type": "subscription",\n        "unit_amount_excluding_tax": "600000"\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/invoices/in_1PQXNBLDzFR9kcMzBrohVIk9/lines"\n  },\n  "livemode": false,\n  "metadata": {},\n  "next_payment_attempt": null,\n  "number": "20099C06-0305",\n  "on_behalf_of": null,\n  "paid": true,\n  "paid_out_of_band": false,\n  "payment_intent": "pi_3PQXNBLDzFR9kcMz0igprnKn",\n  "payment_settings": {\n    "default_mandate": null,\n    "payment_method_options": null,\n    "payment_method_types": null\n  },\n  "period_end": 1718122597,\n  "period_start": 1718122597,\n  "post_payment_credit_notes_amount": 0,\n  "pre_payment_credit_notes_amount": 0,\n  "quote": null,\n  "receipt_number": null,\n  "rendering": null,\n  "rendering_options": null,\n  "shipping_cost": null,\n  "shipping_details": null,\n  "starting_balance": 0,\n  "statement_descriptor": null,\n  "status": "paid",\n  "status_transitions": {\n    "finalized_at": 1718122597,\n    "marked_uncollectible_at": null,\n    "paid_at": 1718122597,\n    "voided_at": null\n  },\n  "subscription": "sub_1PQXNBLDzFR9kcMzOoGWUY3y",\n  "subscription_details": {\n    "metadata": {}\n  },\n  "subtotal": 600000,\n  "subtotal_excluding_tax": 600000,\n  "tax": null,\n  "test_clock": null,\n  "total": 600000,\n  "total_discount_amounts": [],\n  "total_excluding_tax": 600000,\n  "total_tax_amounts": [],\n  "transfer_data": null,\n  "webhooks_delivered_at": 1718122597\n}' message='API response body'
link=https://dashboard.stripe.com/test/logs/req_d8OgIElXBbU9u0 message='Dashboard link for request'
User h-zaki  get subscription
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
get All users Info 
User h-zaki client login
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
User <QuerySet []> <QuerySet []>  get_type_and_source of Juridical Text 
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
User h-zaki      signed up as a client
